{"id":2235,"date":"2015-03-01T19:26:20","date_gmt":"2015-03-01T17:26:20","guid":{"rendered":"http:\/\/stepansuvorov.com\/blog\/?p=2235"},"modified":"2015-10-28T09:03:41","modified_gmt":"2015-10-28T07:03:41","slug":"simple-angular-digest","status":"publish","type":"post","link":"https:\/\/stepansuvorov.com\/blog\/2015\/03\/simple-angular-digest\/","title":{"rendered":"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b Angular Digest"},"content":{"rendered":"<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone wp-image-2393\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/03\/digest.png\" alt=\"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0432\u0437\u044f\u0442\u0430 \u0441 ng-book\" width=\"227\" height=\"238\" \/><\/p>\n<p>\u042f \u0443\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u00a0<a href=\"https:\/\/stepansuvorov.com\/blog\/2014\/03\/%D0%B2%D1%8B%D0%B4%D0%B8%D1%80%D0%B0%D0%B5%D0%BC-%D0%BB%D0%BE%D0%B3%D0%B8%D0%BA%D1%83-di-%D0%B8%D0%B7-angularjs\/\">\u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 AngularJS<\/a>, \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0435\u0448\u0438\u043b \u0442\u043e\u0436\u0435 \u043f\u0440\u043e\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u00a0\u0446\u0438\u043a\u043b\u043e\u043c \u0434\u0430\u0439\u0434\u0436\u0435\u0442\u0430.<\/p>\n<p><!--more--><\/p>\n<p>\u0418\u043c\u0435\u043d\u043d\u043e \u0432\u0441\u0435\u043c\u043e\u0433\u0443\u0449\u0438\u0439 \u0434\u0430\u0439\u0434\u0436\u0435\u0442 \u0438 \u0440\u0435\u0448\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0432\u0441\u0435\u0445 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432, \u0430 \u0442\u0430\u043a \u043a\u0430\u043a \u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u043d\u0430 \u0432\u043e\u0442\u0447\u0435\u0440\u0430\u0445, \u0442\u043e \u043e\u043d \u0432\u043e\u043e\u0431\u0449\u0435 \u0432\u0441\u0435 \u0440\u0435\u0448\u0430\u0435\u0442.<\/p>\n<p>\u041c\u0435\u0441\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f <code>$rootScope<\/code>, \u0430 \u0435\u0449\u0435 \u0442\u043e\u0447\u043d\u0435\u0435 &#8211; \u00a0<code>Scope.prototype<\/code>. \u0418\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043c\u0435\u0442\u043e\u0434 <code>$digest<\/code>.<\/p>\n<h2>\u041f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0434\u0430\u0447\u0438<\/h2>\n<p>\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0441\u0444\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438: \u043d\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u043c\u0435\u0442\u043e\u0434 <code>digest<\/code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u0432\u0441\u0435 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0438, \u0435\u0441\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e, \u0432\u044b\u0437\u043e\u0432\u0435\u0442 \u043a\u043e\u043b\u0431\u044d\u043a.<\/p>\n<p>\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c\/\u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u044d\u0442\u0438\u043c \u0441\u0430\u043c\u044b\u0435 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c \u043c\u044b \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u0442\u043e\u0436\u0435 \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434 <code>watch<\/code>, \u043a\u0430\u043a \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 <strong>AngularJS<\/strong>.<\/p>\n<p>\u0418\u0442\u043e\u0433\u043e \u0438\u043c\u0435\u0435\u043c:<\/p>\n<p>[javascript]<br \/>\nvar rootScope = function () {};<br \/>\nrootScope.prototype = {<br \/>\n  watch: function (watchExp, listener) {},<br \/>\n  digest: function () {}<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>(\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e $ \u043f\u0435\u0440\u0435\u0434 <code>rootScope<\/code>, <code>watch<\/code> \u0438 <code>digest<\/code>, \u0447\u0442\u043e\u0431\u044b \u043a\u0430\u043a-\u0442\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 AngularJS \u0438 \u043c\u043e\u044e)<\/p>\n<p>\u041d\u0443 \u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u0431\u044b\u0442\u044c \u0442\u0430\u043a\u0438\u043c:<\/p>\n<p>[javascript]<br \/>\nvar scope = new rootScope();<br \/>\n    scope.x = 5;<br \/>\n    scope.watch(&#8216;x&#8217;, function(newValue, oldValue){ alert(&#8216;changed:&#8217; + oldValue + &#8216;-&gt;&#8217; + newValue) });<br \/>\n    scope.x = 10;<br \/>\n    scope.digest();<br \/>\n[\/javascript]<\/p>\n<p>\u044d\u0442\u043e\u0442 \u043a\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u0430\u043b\u0435\u0440\u0442 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438.<\/p>\n<h2>\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f<\/h2>\n<p>\u0417\u0430\u0439\u043c\u0435\u043c\u0441\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u043c <code>watch<\/code>. \u0423 \u043d\u0435\u0433\u043e \u0447\u0435\u0442\u043a\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 &#8211; \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u00a0&#8220;\u0432\u043e\u0442\u0447\u0435\u0440\u044b&#8221; &#8211; \u0442\u043e \u0435\u0441\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432 \u0441\u0435\u0431\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u043e\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u0435.<\/p>\n<p>\u0427\u0442\u043e\u0431\u044b \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0433\u0434\u0435-\u0442\u043e \u044d\u0442\u0438 \u0432\u043e\u0442\u0447\u0435\u0440\u044b \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e-\u043c\u0430\u0441\u0441\u0438\u0432 \u0443 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 <code>rootScope<\/code>:<\/p>\n<p>[javascript]<br \/>\nvar rootScope = function () {<br \/>\n  this.watchers = [];<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 <code>watch<\/code> \u043c\u043e\u0436\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0432 \u044d\u0442\u043e\u0442 \u043c\u0430\u0441\u0441\u0438\u0432:<\/p>\n<p>[javascript]<br \/>\n&#8230;<br \/>\nwatch: function (watchExp, listener) {<br \/>\n            var watcher = {<br \/>\n                watchExp : watchExp,<br \/>\n                listener : listener || function() {},<br \/>\n                lastValue: this[watchExp],<br \/>\n            };<br \/>\n            this.watchers.push(watcher);<br \/>\n        },<br \/>\n&#8230;<br \/>\n[\/javascript]<\/p>\n<p>C \u043c\u0435\u0442\u043e\u0434\u043e\u043c <code>watch<\/code> \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u043b\u0438\u0441\u044c, \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u043c \u043a \u043c\u0435\u0442\u043e\u0434\u0443 <code>digest<\/code>. \u041f\u043e \u0438\u0434\u0435\u0435 \u044d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0431\u0435\u0433\u0430\u0442\u044c \u043f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u0442\u0447\u0435\u0440\u0430\u043c \u0438 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c \u043b\u0438 \u043e\u043d\u0438. \u0410 \u0435\u0441\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c &#8211; \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438:<\/p>\n<p>[javascript]<br \/>\ndigest: function () {<br \/>\n            var scope = this;<br \/>\n            this.watchers.forEach(function(watcher){<br \/>\n                if(watcher.lastValue !== scope[watcher.watchExp]){<br \/>\n                    watcher.listener.call(scope, scope[watcher.watchExp], watcher.lastValue);<br \/>\n                }<br \/>\n            });<br \/>\n        }<br \/>\n[\/javascript]<\/p>\n<p>\u0438 \u0435\u0449\u0435, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043a\u043e\u0433\u0434\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u043e\u0441\u044c, \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:<\/p>\n<p>[javascript]<br \/>\ndigest: function () {<br \/>\n            var scope = this;<br \/>\n            this.watchers.forEach(function(watcher){<br \/>\n                if(watcher.lastValue !== scope[watcher.watchExp]){<br \/>\n                    watcher.listener.call(scope, scope[watcher.watchExp], watcher.lastValue);<br \/>\n                    watcher.lastValue = scope[watcher.watchExp];<br \/>\n                }<br \/>\n            });<br \/>\n        }<br \/>\n[\/javascript]<\/p>\n<p>\u041a\u0430\u043a \u0431\u0443\u0434\u0442\u043e \u0431\u044b \u0432\u0441\u0435. \u041d\u043e \u043d\u0435\u0442 &#8211; \u043c\u044b \u0437\u0430\u0431\u044b\u043b\u0438 \u0435\u0449\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c &#8220;\u0433\u0440\u044f\u0437\u043d\u043e\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438&#8221;, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043c\u044b &#8220;\u043d\u0438 \u043e \u043a\u043e\u043c \u043d\u0435 \u0437\u0430\u0431\u044b\u043b\u0438&#8221;. \u0423\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u0435: \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432 \u043c\u044b \u043c\u043e\u0433\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432, \u0442\u043e \u0435\u0441\u0442\u044c \u0441\u043d\u043e\u0432\u0430 \u0438\u0445 \u0441\u0434\u0435\u043b\u0430\u043b\u0438\u00a0&#8220;\u0433\u0440\u044f\u0437\u043d\u044b\u043c\u0438&#8221;.<\/p>\n<p>\u0427\u0442\u043e\u0431\u044b \u044d\u0442\u043e \u0443\u0447\u0435\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e &#8211; \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 <code>dirty<\/code>:<\/p>\n<p>[javascript]<br \/>\ndigest: function () {<br \/>\n  var scope = this,<br \/>\n      dirty = false;<br \/>\n  this.watchers.forEach(function(watcher){<br \/>\n    if(watcher.lastValue !== scope[watcher.watchExp]){<br \/>\n      watcher.listener.call(scope, scope[watcher.watchExp], watcher.lastValue);<br \/>\n      watcher.lastValue = scope[watcher.watchExp];<br \/>\n      dirty = true;<br \/>\n   }<br \/>\n });<br \/>\n return dirty;<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0442\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u0432\u0435\u0440\u043d\u0435\u043c \u0432\u0441\u044e \u043d\u0430\u0448\u0443 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432 \u043c\u0435\u0442\u043e\u0434 <code>digestOnce<\/code> \u0438 \u0431\u0443\u0434\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043d\u0435 &#8220;\u043f\u043e\u0447\u0438\u0441\u0442\u0438\u043c&#8221; \u0432\u0441\u0435 \u0432\u043e\u0442\u0447\u0435\u0440\u044b:<\/p>\n<p>[javascript]<br \/>\ndigest: function () {<br \/>\n        var dirty;<br \/>\n        do {<br \/>\n            dirty = digestOnce(this);<br \/>\n        } while (dirty);<\/p>\n<p>        function digestOnce(scope) {<br \/>\n            var dirty = false;<br \/>\n            scope.watchers.forEach(function (watcher) {<br \/>\n                if (watcher.lastValue !== scope[watcher.watchExp]) {<br \/>\n                    watcher.listener.call(scope, scope[watcher.watchExp], watcher.lastValue);<br \/>\n                    watcher.lastValue = scope[watcher.watchExp];<br \/>\n                    dirty = true;<br \/>\n                }<br \/>\n            });<br \/>\n            return dirty;<br \/>\n        }<br \/>\n    }<br \/>\n[\/javascript]<\/p>\n<p>\u041d\u0443 \u0432\u043e\u0442 \u0438 \u0432\u0441\u0435: \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 \u0433\u043e\u0442\u043e\u0432\u0430. \u0421 \u043a\u043e\u0434\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0438\u0433\u0440\u0430\u0442\u044c\u0441\u044f <a title=\"jsfiddle\" href=\"http:\/\/jsfiddle.net\/STEVER\/y1hgjjt4\/\">\u0442\u0443\u0442<\/a>.<\/p>\n<h2>\u0411\u043e\u043d\u0443\u0441<\/h2>\n<p>\u0412\u043e \u0438\u0437\u0431\u0435\u0436\u0430\u043d\u0438\u0435 \u0437\u0430\u0446\u0438\u043a\u043b\u0438\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430(\u00a0\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439) \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0445\u043e\u0434\u043e\u0432 c \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439. \u0412 <strong>AngularJS<\/strong> \u044d\u0442\u0443 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043d\u0430\u0437\u0432\u0430\u043b\u0438 <code>TTL<\/code> (\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e \u043e\u0442 \u0430\u0431\u0431\u0440\u0435\u0432\u0438\u0430\u0442\u0443\u0440\u044b &#8220;time to live&#8221;):<\/p>\n<p>[javascript]<br \/>\ndigest: function () {<br \/>\n        var dirty,<br \/>\n            ttl = 10;<br \/>\n        do {<br \/>\n            dirty = digestOnce(this);<br \/>\n            if (dirty &amp;&amp; !(ttl&#8211;)) {<br \/>\n               throw &quot;10 digest iterations reached&quot;;<br \/>\n            }<br \/>\n        } while (dirty);<br \/>\n&#8230;<br \/>\n[\/javascript]<\/p>\n<p>\u0422\u0430\u043a\u0436\u0435 \u0432 <strong>AngularJS<\/strong> \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043d\u044f\u0442\u0438\u044f \u0432\u043e\u0442\u0447\u0435\u0440\u0430 \u043f\u0443\u0442\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0439 \u0438\u0437 \u043c\u0435\u0442\u043e\u0434\u0430 <code>$watch<\/code>. \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0432 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 AngularJS. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0448 \u0432\u043e\u0442\u0447\u0435\u0440 \u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432:<\/p>\n<p>[javascript]<br \/>\nwatch: function (watchExp, listener) {<br \/>\n  var watcher = {<br \/>\n        watchExp: watchExp,<br \/>\n        listener: listener,<br \/>\n        lastValue: this[watchExp],<br \/>\n  }, scope = this;<br \/>\n  this.watchers.push(watcher);<br \/>\n  return function unwatch(){<br \/>\n    scope.watchers.splice(scope.watchers.indexOf(watcher), 1);<br \/>\n  };<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u041d\u0443 \u0438 \u0435\u0449\u0435 \u0440\u0430\u0437 <a title=\"jsfiddle.net\" href=\"http:\/\/jsfiddle.net\/STEVER\/xub4ge4z\/\">\u0432\u0435\u0441\u044c \u043a\u043e\u0434<\/a>.<\/p>\n<h2>P.S.<\/h2>\n<p>\u041a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u043f\u043e\u043a\u043e\u0432\u044b\u0440\u044f\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u0445\u00a0<strong>AngularJS<\/strong>, \u0432\u043e\u0442 <a title=\"rootScope.js#L721\" href=\"https:\/\/github.com\/angular\/angular.js\/blob\/master\/src\/ng\/rootScope.js#L363\">\u0442\u0443\u0442<\/a>. \u042f \u0432\u043e\u0442 \u0432\u043d\u0435\u0437\u0430\u043f\u043d\u043e \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043b, \u0447\u0442\u043e \u0443 <strong>$watch<\/strong> \u0435\u0441\u0442\u044c \u0435\u0449\u0435 4-\u0442\u044b\u0439 \u043d\u0435\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u00a0prettyPrintExpression.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u042f \u0443\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u00a0\u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 AngularJS, \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0435\u0448\u0438\u043b \u0442\u043e\u0436\u0435 \u043f\u0440\u043e\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u00a0\u0446\u0438\u043a\u043b\u043e\u043c \u0434\u0430\u0439\u0434\u0436\u0435\u0442\u0430.<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[4],"tags":[329,120,17],"_links":{"self":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts\/2235"}],"collection":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/comments?post=2235"}],"version-history":[{"count":9,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts\/2235\/revisions"}],"predecessor-version":[{"id":2923,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts\/2235\/revisions\/2923"}],"wp:attachment":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/media?parent=2235"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/categories?post=2235"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/tags?post=2235"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}