{"id":2063,"date":"2015-02-10T12:10:06","date_gmt":"2015-02-10T10:10:06","guid":{"rendered":"http:\/\/stepansuvorov.com\/blog\/?p=2063"},"modified":"2015-02-10T12:10:06","modified_gmt":"2015-02-10T10:10:06","slug":"angularjs-optimization","status":"publish","type":"post","link":"https:\/\/stepansuvorov.com\/blog\/2015\/02\/angularjs-optimization\/","title":{"rendered":"\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0443\u0435\u043c AngularJS. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u0440\u0430\u0437\u0431\u043e\u0440."},"content":{"rendered":"<p>\u0412\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0442\u0430\u0442\u044c\u0438 &#8220;<a href=\"http:\/\/bahmutov.calepin.co\/improving-angular-web-app-performance-example.html\">Improving Angular web app performance example<\/a>&#8220;. \u0422\u0440\u0430\u043a\u0442\u0430\u0442 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439. \u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u0438\u043a \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442 \u0434\u043b\u044f \u043b\u044e\u0431\u043e\u0433\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e AngularJS).<\/p>\n<p>\u0421\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432:<\/p>\n<ul>\n<li><a href=\"#not-optimized-example\">\u041f\u0440\u0438\u043c\u0435\u0440 \u043d\u0435 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f<\/a><\/li>\n<li><a href=\"#quick-performance-overview\">\u041f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438<\/a><\/li>\n<li><a href=\"#profiling-with-snippets\">\u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 Chrome \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u043e\u0432<\/a><\/li>\n<li><a href=\"#digest-optimization\">\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0446\u0438\u043a\u043b\u0430 \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430<\/a><\/li>\n<li><a href=\"#bind-once\">\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b bind-once<\/a><\/li>\n<li><a href=\"#get-rid-off-ng-repeat\">\u0418\u0437\u0431\u0430\u0432\u043b\u044f\u0435\u043c\u0441\u044f \u043e\u0442 ng-repeat<\/a><\/li>\n<li><a href=\"#initial-rendering\">\u0423\u0441\u043a\u043e\u0440\u044f\u0435\u043c \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433<\/a><\/li>\n<li><a href=\"#in-to-pieces\">\u0420\u0430\u0437\u0431\u0438\u0432\u0430\u0435\u043c &#8220;\u0442\u044f\u0436\u0435\u043b\u044b\u0435&#8221; \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u043d\u0430 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0447\u0430\u0441\u0442\u0438<\/a><\/li>\n<li><a href=\"#web-workers\">\u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u043c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430 WebWorkers<\/a><\/li>\n<li><a href=\"#memory-allocation-optimization\">\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438<\/a><\/li>\n<li><a href=\"#memory-profile-isolation\">\u0418\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0430\u043c\u044f\u0442\u0438<\/a><\/li>\n<li><a href=\"#on-request-compulation\">\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443<\/a><\/li>\n<li><a href=\"#watched-objects-minimization\">\u041c\u0438\u043d\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432<\/a><\/li>\n<li><a href=\"#conclusions\">\u0412\u044b\u0432\u043e\u0434\u044b<\/a><\/li>\n<\/ul>\n<p><!--more--><\/p>\n<p>\u041a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u00a0\u0432\u0430\u0448\u0435\u0433\u043e <strong>AngularJS<\/strong> \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0433\u043e\u0442\u043e\u0432\u0430, \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433 &#8211; \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434\u00a0<strong>\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e<\/strong>,\u00a0\u0442\u043e \u0435\u0441\u0442\u044c: \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438, \u043e\u0442\u0437\u044b\u0432\u0447\u0438\u0432\u043e\u0441\u0442\u044c \u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u044b\u0441\u0442\u0440\u043e \u043d\u0435 \u0437\u0430\u0441\u0442\u0430\u0432\u043b\u044f\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0436\u0434\u0430\u0442\u044c, \u0438\u043d\u0430\u0447\u0435 \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435 \u043e\u0447\u0435\u043d\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u043c. \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043e\u0432\u0435\u0442\u043e\u0432 \u043f\u043e \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: Steven Czerwinksi \u0432 \u0441\u0432\u043e\u0435\u043c \u043f\u043e\u0441\u0442\u0435 &#8220;<a title=\"blog.scalyr.com\" href=\"http:\/\/blog.scalyr.com\/2013\/10\/angularjs-1200ms-to-35ms\/\">Optimizing AngularJS: 1200ms to 35ms<\/a>&#8221; \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438:<\/p>\n<ul>\n<li>\u043a\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 DOM \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432<\/li>\n<li>\u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432<\/li>\n<li>\u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430<\/li>\n<li>\u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432\u043e\u0442\u0447\u0435\u0440\u044b \u0441\u043f\u0440\u044f\u0442\u0430\u043d\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432<\/li>\n<\/ul>\n<p>\u042f \u0441\u0447\u0438\u0442\u0430\u044e \u0432\u0441\u0435 \u044d\u0442\u0438 \u0441\u043e\u0432\u0435\u0442\u044b\u00a0\u043f\u0440\u0438\u0435\u043c\u043b\u0435\u043c\u044b\u043c\u0438, \u043d\u043e \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u043e\u0436\u043d\u044b\u043c\u0438 \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438. \u0412\u043c\u0435\u0441\u0442\u043e \u043d\u0438\u0445 \u044f \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435:<\/p>\n<ul>\n<li>\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\n<ul>\n<li>\u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c <strong>\u043e\u0447\u0435\u0432\u0438\u0434\u043d\u044b\u0435 \u0443\u0437\u043a\u0438\u0435 \u043c\u0435\u0441\u0442\u0430<\/strong> \u043d\u0430 <strong>JavaScript<\/strong> (\u043d\u0435 AngularJS)<\/li>\n<\/ul>\n<\/li>\n<li>\u041e\u0446\u0435\u043d\u0438\u0442\u044c\u00a0\u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0445\u043e\u043b\u043e\u0441\u0442\u044b\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u044b \u0446\u0438\u043a\u043b\u0430 \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430\n<ul>\n<li>\u0443\u0434\u0430\u043b\u0438\u0442\u044c <strong>\u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b<\/strong> (\u0442\u0435\u043c \u0441\u0430\u043c\u044b\u043c \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0432 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432)<\/li>\n<li>\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0435 \u0432\u043e\u0442\u0447\u0435\u0440\u044b \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u043c \u043e\u0442 <strong>\u0434\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e\u0433\u043e<\/strong> \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u044f \u043a <strong>\u043e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u043c\u0443<\/strong><\/li>\n<\/ul>\n<\/li>\n<li>\u041f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u00a0\u0432\u0441\u0435 \u043c\u0435\u0441\u0442\u0430 <strong>\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f DOM<\/strong>\n<ul>\n<li>\u0442\u044f\u0436\u0435\u043b\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u0431\u0438\u0442\u044b\u00a0\u043d\u0430\u00a0\u0431\u043e\u043b\u0435\u0435 <strong>\u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438\u00a0<\/strong><\/li>\n<li>\u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u0434\u0435\u043b\u0430\u043d\u044b \u0437\u0430 \u0447\u0435\u0442\u00a0<strong>\u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432<\/strong><\/li>\n<\/ul>\n<\/li>\n<li>\u041c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043f\u043e <strong>\u0441\u0431\u043e\u0440\u043a\u0435 \u043c\u0443\u0441\u043e\u0440\u0430<\/strong>\n<ul>\n<li><strong>\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043c\u044f\u0442\u044c<\/strong> \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h2><\/h2>\n<h2 id=\"not-optimized-example\">\u041f\u0440\u0438\u043c\u0435\u0440 \u043d\u0435 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f<\/h2>\n<p>\u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <strong>AngularJS 1.2<\/strong>, \u043d\u043e \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f &#8220;\u0443\u0437\u043a\u0438\u0445 \u043c\u0435\u0441\u0442&#8221;\u00a0\u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b \u0442\u0430\u043a \u0436\u0435 \u00a0\u0438 \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u0439.<\/p>\n<p>\u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u044f \u043d\u0430\u043f\u0438\u0441\u0430\u043b \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0435 <strong>AngularJS<\/strong> \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435( \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\u00a0<a title=\"github.com\" href=\"https:\/\/github.com\/bahmutov\/primes\">\u0442\u0443\u0442<\/a>). \u0412\u0435\u0441\u044c \u043f\u0440\u0438\u043c\u0435\u0440 \u043f\u043e\u043c\u0435\u0449\u0435\u043d \u0432\u00a0<code>index.html<\/code> \u0444\u0430\u0439\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u00a0\u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 (\u0442\u043e \u0435\u0441\u0442\u044c \u0432\u0435\u0431 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043d\u0435 \u043d\u0443\u0436\u0435\u043d). \u0417\u0430\u0434\u0430\u0447\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u00a0&#8211; \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u00a0N <a title=\"ru.wikipedia.org\" href=\"http:\/\/ru.wikipedia.org\/wiki\/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%BE\">\u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b<\/a>. \u041d\u0430\u0447\u043d\u0435\u043c \u043c\u044b \u0441 \u043a\u0440\u0430\u0439\u043d\u0435\u00a0\u043d\u0435\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0448\u0430\u0433 \u0437\u0430 \u0448\u0430\u0433\u043e\u043c \u0431\u0443\u0434\u0435\u043c \u0443\u043b\u0443\u0447\u0448\u0430\u0442\u044c \u0435\u0435.<\/p>\n<p>\u0420\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e:<\/p>\n<p>[shell]<br \/>\ngit clone git@github.com:bahmutov\/primes.git<br \/>\ncd primes<br \/>\nbower install angular-bindonce jquery angular-vs-repeat &#8211;force<br \/>\ngit checkout step-0<br \/>\n[\/shell]<\/p>\n<p>\u041e\u0442\u043a\u0440\u043e\u0435\u043c <code>index.html<\/code>. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u043e: \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u0432\u043e\u0434\u0438\u0442 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0438 \u043d\u0430\u0436\u0438\u043c\u0430\u0435\u0442 &#8220;Find&#8221;. \u041f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u044e\u0442\u0441\u044f\u00a0\u0438 \u0432\u044b\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443:<\/p>\n<p>[html]<br \/>\n&lt;div ng-controller=&quot;primesController&quot; ng-cloak&gt;<br \/>\n  &lt;button id=&quot;find&quot; ng-click=&quot;find()&quot;&gt;Find&lt;\/button&gt; &lt;input ng-model=&quot;n&quot; \/&gt; primes.<br \/>\n  &lt;table&gt;<br \/>\n    &lt;tr ng-repeat=&quot;prime in primes | orderBy:$index &quot;&gt;<br \/>\n      &lt;td&gt;{{ &quot;index&quot; | lowercase }}&lt;\/td&gt;<br \/>\n      &lt;td&gt;{{ $index + 1 | number:0 | uppercase }}&lt;\/td&gt;<br \/>\n      &lt;td&gt;{{ &quot;prime number&quot; | lowercase }}&lt;\/td&gt;<br \/>\n      &lt;td&gt;{{ prime | number:0 | uppercase }}&lt;\/td&gt;<br \/>\n      &lt;td&gt;is prime? {{ prime | isPrime }}&lt;\/td&gt;<br \/>\n    &lt;\/tr&gt;<br \/>\n  &lt;\/table&gt;<br \/>\n&lt;\/div&gt;<br \/>\n[\/html]<\/p>\n<p>\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438 \u043f\u043e\u0440\u044f\u0434\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441 \u043d\u0438\u043c\u0438 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435.<\/p>\n<p>\u041f\u0435\u0440\u0432\u044b\u0439 5 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0442\u0430\u043a:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2278\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/primes.png\" alt=\"primes\" width=\"752\" height=\"464\" \/><\/p>\n<h2 id=\"quick-performance-overview\">\u041f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u043d\u0430\u044f\u00a0\u043e\u0446\u0435\u043d\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438<\/h2>\n<p>\u041f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f\u00a0\u0432\u0435\u0440\u0441\u0438\u044f \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u043f\u0435\u0440\u0432\u044b\u0435 10 \u0438\u043b\u0438 \u0434\u0430\u0436\u0435 100 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b. \u041d\u043e \u0435\u0441\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0439\u0442\u0438 1000, \u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u0447\u043d\u0435\u0442 \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442\u044c. \u041e\u0442\u043a\u0443\u0434\u0430 \u0442\u0430\u043a\u0438\u0435 \u0442\u043e\u0440\u043c\u043e\u0437\u0430?<\/p>\n<p>\u041a\u043e\u0434 AngularJS \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e\u00a0\u043f\u0440\u043e\u0441\u0442\u043e\u0439:<\/p>\n<p>[javascript]<br \/>\nfunction isPrime() &#8230;<br \/>\nfunction findPrime() &#8230;<br \/>\nangular.module(&#8216;Primes&#8217;, [])<br \/>\n  .filter(&#8216;isPrime&#8217;, function () {<br \/>\n    return isPrime;<br \/>\n  })<br \/>\n  .controller(&#8216;primesController&#8217;, function ($scope) {<br \/>\n    $scope.n = 10;<br \/>\n    $scope.find = function () {<br \/>\n      console.log(&#8216;computing first&#8217;, $scope.n, &#8216;primes&#8217;);<br \/>\n      $scope.primes = [];<br \/>\n      var k;<br \/>\n      for (k = 0; k &lt; $scope.n; k += 1) {<br \/>\n        var prime = findPrime(k + 2);<br \/>\n        $scope.primes.push(prime);<br \/>\n      }<br \/>\n    };<br \/>\n  });<\/p>\n<p>[\/javascript]<\/p>\n<p>\u043c\u0435\u0442\u043e\u0434 <code>$scope.find<\/code> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043e\u0447\u0435\u043d\u044c \u0434\u043e\u043b\u0433\u043e \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f <code>$scope.n<\/code>. \u041e\u0431\u044b\u0447\u043d\u043e \u043c\u044b \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 JavaScript \u0432\u043e\u0442 \u0442\u0430\u043a:<\/p>\n<p>[javascript]<br \/>\n$scope.find = function () {<br \/>\n  console.log(&#8216;computing first&#8217;, $scope.n, &#8216;primes&#8217;);<br \/>\n  var started = new Date();<br \/>\n  \/\/ computation<br \/>\n  var finished = new Date();<br \/>\n  console.log(&#8216;find took&#8217;, finished &#8211; started, &#8216;ms&#8217;);<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u042f \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u044e\u00a0<a title=\"https:\/\/developer.chrome.com\/devtools\/docs\/console-api#consoletimelabel\" href=\"https:\/\/developer.chrome.com\/devtools\/docs\/console-api#consoletimelabel\">console.time<\/a> &#8211; \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445.<\/p>\n<p>[javascript]<br \/>\n$scope.find = function () {<br \/>\n  console.log(&#8216;computing first&#8217;, $scope.n, &#8216;primes&#8217;);<br \/>\n  console.time(&#8216;computing primes&#8217;);<br \/>\n  \/\/ computation<br \/>\n  console.timeEnd(&#8216;computing primes&#8217;);<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u0434\u043b\u044f 1000 \u0443 \u043c\u0435\u043d\u044f \u0432\u044b\u0434\u0430\u043b\u043e<\/p>\n<pre>computing primes: 13084.714ms<\/pre>\n<p>\u0422\u043e \u0435\u0441\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442 \u0437\u0430\u043d\u044f\u043b 13 \u0441\u0435\u043a\u0443\u043d\u0434!<\/p>\n<h2 id=\"profiling-with-snippets\">\u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 Chrome \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u043e\u0432<\/h2>\n<p>\u0412\u043c\u0435\u0441\u0442\u043e \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0430\u0432\u0438\u0442\u044c\u00a0\u043a\u043e\u0434 \u0438 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u00a0<a href=\"https:\/\/github.com\/bahmutov\/code-snippets\/blob\/master\/ng-profile-scope-method.js\">ng-profile-scope-method<\/a>\u00a0\u0441\u043d\u0438\u043f\u043f\u0435\u0442 (\u043e \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c <a title=\"JavaScript \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u044b \u0432 Chrome\" href=\"https:\/\/stepansuvorov.com\/blog\/2015\/01\/javascript-%D1%81%D0%BD%D0%B8%D0%BF%D0%BF%D0%B5%D1%82%D1%8B-%D0%B2-chrome\/\">\u0442\u0443\u0442<\/a>). \u0412 \u044d\u0442\u043e\u043c \u043c\u0435\u0442\u043e\u0434\u0435 \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u044b\u00a0id \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0438 \u0438\u043c\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430 (\u0432 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044d\u0442\u043e &#8220;<em>find<\/em>&#8220;, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u043b\u0435\u0433\u043a\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u0443\u044f \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435).<\/p>\n<p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u043d\u0438\u043f\u043f\u0435\u0442, \u043d\u0430\u0436\u0438\u043c\u0430\u0435\u043c \u043d\u0430 &#8220;Find&#8221;, \u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2279\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-01-11.03.19.png\" alt=\"ng-profile-scope-method\" width=\"439\" height=\"600\" \/><\/p>\n<p>\u041a\u043e\u0433\u0434\u0430 \u043c\u0435\u0442\u043e\u0434 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u00a0\u0440\u0430\u0431\u043e\u0442\u0443, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432\u043e \u043a\u043b\u0430\u0434\u043a\u0443 <strong>Profiles<\/strong> \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u043e\u0434\u0430. \u041d\u0430\u0447\u043d\u0435\u043c \u0440\u0430\u0437\u0431\u043e\u0440 \u0441 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f &#8220;<strong>Chart<\/strong>&#8220;:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2283\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-02-11.44.24.png\" alt=\"cpu profiling\" width=\"579\" height=\"541\" \/><\/p>\n<p>\u041e\u0442\u043c\u0435\u0442\u0438\u043c, \u0447\u0442\u043e \u0441\u0442\u0435\u043a\u00a0\u0432\u044b\u0437\u043e\u0432\u043e\u0432 \u0442\u0440\u0438\u0432\u0438\u0430\u043b\u0435\u043d: \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432\u0441\u0435\u0433\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0437\u0430 \u044d\u0442\u0438 13 \u0441\u0435\u043a\u0443\u043d\u0434, \u0442\u0430\u043a \u0436\u0435 \u043a\u0430\u043a\u00a0<code>$apply<\/code>, <code>$eval<\/code> \u0438 \u0442\u0430\u043a \u0434\u043e <code>$scope.find<\/code>. \u0412\u043d\u0443\u0442\u0440\u0438 \u043d\u0430\u0448\u0435\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430\u00a0<code>find<\/code>\u00a0\u043c\u044b \u0432\u0438\u0434\u0438\u043c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0432\u044b\u0437\u043e\u0432\u044b \u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0438\u00a0<code>findPrime<\/code>. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438 <code>findPrime<\/code> &#8220;\u0443\u0437\u043a\u0438\u043c \u043c\u0435\u0441\u0442\u043e\u043c&#8221; \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.<\/p>\n<p>\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043c\u0441\u044f \u0438\u0437 \u043f\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043b\u0435\u043d\u0438\u044f &#8220;<strong>Chart<\/strong>&#8221; \u0432 &#8220;<strong>Heavy<\/strong>&#8220;. \u041e\u043d\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044f \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.\u00a0<img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2284\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-02-11.52.03.png\" alt=\"cpu profiling 2\" width=\"746\" height=\"454\" \/><\/p>\n<p>\u0412 \u0442\u043e\u043f\u0435 \u043c\u044b \u0432\u0438\u0434\u0438\u043c 2 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 &#8211; <code>isPrime<\/code> \u0438 <code>findPrime<\/code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0434\u043e\u043b\u044c\u0448\u0435 \u0432\u0441\u0435\u0445. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u0436\u0435\u043b\u0442\u044b\u0439 \u0442\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u0447\u0435\u043a \u0440\u044f\u0434\u043e\u043c \u0441 <code>isPrime<\/code>. \u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0430\u0432\u0435\u0434\u0435\u0442\u0435 \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u044b\u0448\u043a\u043e\u0439, \u0442\u043e \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0443\u044e \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0443 \u043e \u0442\u043e\u043c, \u0447\u0442\u043e \u043c\u0435\u0442\u043e\u0434 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440\u043e\u043c &#8220;<a title=\"wiki\" href=\"https:\/\/ru.wikipedia.org\/wiki\/JIT-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D1%8F\">\u043d\u0430 \u043b\u0435\u0442\u0443<\/a>&#8220;. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044d\u0442\u043e \u0438\u0437-\u0437\u0430 <code>try-catch<\/code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.<\/p>\n<p>\u0412 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 <code>isPrime<\/code> \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 <code>try-catch<\/code> \u0431\u043b\u043e\u043a\u0430 \u0441\u043e\u0432\u0441\u0435\u043c:<\/p>\n<p>[javascript]<br \/>\nfunction isPrime(n) {<br \/>\n  try {<br \/>\n    var k;<br \/>\n    for (k = 2; k &lt; n; k += 1) {<br \/>\n      if (n % k === 0) {<br \/>\n        return false;<br \/>\n      }<br \/>\n    }<br \/>\n  } catch (err) {<br \/>\n    console.error(err);<br \/>\n  }<br \/>\n  return true;<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0423\u0431\u0435\u0440\u0435\u043c \u0435\u0433\u043e \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0435\u0440 \u0435\u0449\u0435 \u0440\u0430\u0437:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2285\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-02-12.07.51.png\" alt=\"cpu-profiling 3\" width=\"598\" height=\"466\" \/><\/p>\n<p>\u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u043c\u044b \u0432\u0438\u0434\u0438\u043c \u043a\u0430\u043a \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 <code>isPrime<\/code> \u0441 7.2 \u0441\u0435\u043a\u0443\u043d\u0434 \u0443\u043f\u0430\u043b\u043e \u0434\u043e 40 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434, \u0430 \u043e\u0431\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441 13 \u0434\u043e 5,8 \u0441\u0435\u043a\u0443\u043d\u0434. \u0421\u043d\u0438\u043f\u043f\u0435\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e, \u0447\u0442\u043e \u0434\u0430\u0435\u0442 \u043d\u0430\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u0438\u0445.<\/p>\n<p>\u0418\u0442\u0430\u043a, <code>findPrime<\/code> &#8211; \u043d\u0430\u0448\u0430 \u043d\u043e\u0432\u0430\u044f \u0446\u0435\u043b\u044c \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a:<\/p>\n<p>[javascript]<br \/>\nfunction findPrime(n) {<br \/>\n  var k = 1;<br \/>\n  var foundPrimes = [];<br \/>\n  while (foundPrimes.length &lt; n) {<br \/>\n    if (isPrime(k)) {<br \/>\n      foundPrimes.push(k);<br \/>\n    }<br \/>\n    k += 1;<br \/>\n  };<br \/>\n  return foundPrimes[foundPrimes.length &#8211; 1];<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0438\u0449\u0435\u0442 N-\u043e\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043f\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u043f\u0440\u0435\u0434\u0448\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435. \u041d\u043e \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0434\u043b\u044f \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e (N + 1) \u0447\u0438\u0441\u043b\u0430 \u043e\u043d\u0430 \u043f\u0440\u043e\u0434\u0435\u043b\u0430\u0435\u0442 \u0432\u0441\u0435 \u0441\u043d\u0430\u0447\u0430\u043b\u0430. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u043d\u0435\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0432\u044b\u043d\u0435\u0441\u044f \u043c\u0430\u0441\u0441\u0438\u0432 <code>foundPrimes<\/code> \u0437\u0430 \u043f\u0440\u0435\u0434\u0435\u043b\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438:<\/p>\n<p>[javascript]<br \/>\nvar foundPrimes = [];<br \/>\nfunction findPrime(n) {<br \/>\n  var k;<br \/>\n  if (foundPrimes.length) {<br \/>\n    k = foundPrimes[foundPrimes.length &#8211; 1] + 1;<br \/>\n  } else {<br \/>\n    k = 1;<br \/>\n  }<br \/>\n  while (foundPrimes.length &lt; n) {<br \/>\n    if (isPrime(k)) {<br \/>\n      foundPrimes.push(k);<br \/>\n    }<br \/>\n    k += 1;<br \/>\n  };<br \/>\n  return foundPrimes[n &#8211; 1];<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f (\u0442\u0435\u0433\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-2\">step-2<\/a>)\u00a0\u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442 \u043a \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u043e\u043c\u0443 \u0441\u043a\u0430\u0447\u043a\u0443 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2286\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-02-12.43.07.png\" alt=\"cpu-profiling 4\" width=\"631\" height=\"376\" \/><\/p>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u0435\u0441\u044c \u043c\u0435\u0442\u043e\u0434 <code>$scope.find<\/code> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0437\u0430 389 \u043c\u0441, \u0442\u043e \u0435\u0441\u0442\u044c \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u043c \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u043c \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u043b\u0430\u0441\u044c\u00a0\u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u0432 40 \u0440\u0430\u0437!<\/p>\n<p>\u041c\u044b \u043c\u043e\u0436\u0435\u043c \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043f\u0440\u043e\u0441\u0442\u043e\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441 \u0446\u0435\u043b\u044c\u044e \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>isPrime<\/code>: \u0442\u0443\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u043e\u043f\u0440\u043e\u0441 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0438 &#8211; \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044f N \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443, \u043d\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u043e\u0442 \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0432\u0441\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0438\u0434\u0443\u0449\u0438\u0435 \u0434\u043e \u043d\u0435\u0433\u043e &#8211; \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043e\u0439\u0442\u0438 \u0434\u043e \u043a\u043e\u0440\u043d\u044f \u0438\u0437 N:<\/p>\n<p>[javascript]<br \/>\nfunction isPrime(n) {<br \/>\n  var k;<br \/>\n  var limit = Math.sqrt(n);<br \/>\n  for (k = 2; k &lt;= limit; k += 1) {<br \/>\n    if (n % k === 0) {<br \/>\n      return false;<br \/>\n    }<br \/>\n  }<br \/>\n  return true;<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u044f \u043a \u0442\u0435\u0433\u0443 <a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-3\">step-3<\/a>. \u041f\u0440\u043e\u0444\u0430\u0439\u043b\u0435\u0440 <code>$scope.find<\/code> \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0447\u0442\u043e \u043c\u044b \u0438\u0437\u0431\u0430\u0432\u0438\u043b\u0438\u0441\u044c \u043e\u0442 \u0432\u0441\u0435\u0445 \u044f\u0432\u043d\u044b\u0445\u00a0\u0442\u043e\u0440\u043c\u043e\u0437\u043e\u0432:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2287\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-02-12.59.00.png\" alt=\"cpu-profiling 4\" width=\"605\" height=\"379\" \/><\/p>\n<h2 id=\"digest-optimization\">\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0446\u0438\u043a\u043b\u0430 \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430<\/h2>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u043c \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0442\u043e\u0434\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 <code>scope<\/code>. \u0427\u0442\u043e\u0431\u044b \u0442\u043e\u0447\u043d\u043e \u0432\u044b\u044f\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0431\u044b\u0435 \u043c\u0435\u0441\u0442\u0430, \u0441\u0434\u0435\u043b\u0430\u0435\u043c\u00a0\u043e\u0446\u0435\u043d\u043a\u0443 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u043e\u043c \u043e\u0431\u044a\u0435\u043c\u0435 \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u041d\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u044f \u0434\u043e\u0431\u0430\u0432\u043b\u044e \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0434\u0435\u0442\u0430\u043b\u044c: \u0432\u044b\u0432\u043e\u0434 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b (\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432 \u0442\u0435\u0433\u0435 <a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-4\">step-4<\/a>):<\/p>\n<p>[html]<br \/>\n&lt;button id=&quot;find&quot; ng-click=&quot;find()&quot;&gt;Find&lt;\/button&gt; &lt;input ng-model=&quot;n&quot; \/&gt; primes.<br \/>\n&lt;p&gt;AngularJs application that finds first {{ n }} prime numbers&lt;\/p&gt;<br \/>\n[\/html]<\/p>\n<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c 100 000 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b. \u042d\u0442\u043e \u0437\u0430\u0439\u043c\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434 ( \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f DOM). \u041a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e 100 000 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0430 \u044d\u043a\u0440\u0430\u043d, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0434\u0438\u043d \u043d\u043e\u043b\u044c). \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0443 \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445. \u041c\u044b \u043d\u0435 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u0443\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u043e\u0434\u0435\u043b\u0438, \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e \u0447\u0438\u0441\u043b\u043e. \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c\u0441\u044f, \u043e\u0442\u043a\u0443\u0434\u0430 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430?<\/p>\n<p>\u0427\u0442\u043e\u0431\u044b \u043e\u0442\u0434\u0435\u0431\u0430\u0436\u0438\u0442\u044c \u044d\u0442\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u043d\u0438\u043f\u043f\u0435\u0442 &#8211;\u00a0<a href=\"https:\/\/github.com\/bahmutov\/code-snippets\/blob\/master\/ng-idle-apply-timing.js\">ng-idle-apply-timing<\/a>\u00a0(\u043e\u043f\u044f\u0442\u044c \u0442\u0430\u043a\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044f \u0432 \u043a\u043e\u0434\u0435). \u041e\u043d \u043f\u043e\u043a\u0430\u0436\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u0433\u0440\u044f\u0437\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 (dirty checking) \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u00a0\u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438. \u0414\u0432\u043e\u0439\u043d\u043e\u0435 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u0435, $watch \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b &#8211; \u00a0\u0432\u0441\u0435 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u043f\u0440\u043e\u0445\u043e\u0434 \u0446\u0438\u043a\u043b\u0430 \u0434\u0430\u0439\u0434\u0436\u0441\u0442\u0430 \u0431\u043e\u043b\u0435\u0435 \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u043c.<\/p>\n<p>\u0412\u0437\u0433\u043b\u044f\u043d\u0435\u043c \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0432 \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0435:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2288\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-02-16.15.37.png\" alt=\"scope digest profiling\" width=\"664\" height=\"399\" \/><\/p>\n<p>\u041c\u044b \u0432\u0438\u0434\u0438\u043c, \u0447\u0442\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0446\u0438\u043a\u043b \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 \u0443\u0445\u043e\u0434\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434\u044b (1274 \u043c\u0441). \u0425\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0431\u044b \u044d\u0442\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c. \u0421\u0430\u043c\u044b\u0439 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443\u00a0\u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 &#8211; \u043f\u043e\u0432\u044b\u043a\u0438\u0434\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0435 \u0432\u043e\u0442\u0447\u0435\u0440\u044b.<\/p>\n<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0441 \u0441\u0430\u043c\u044b\u043c\u0438 \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0432\u043e\u0442\u0447\u0435\u0440\u0430\u043c\u0438. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0435\u0449\u0435 2\u00a0\u0441\u043d\u0438\u043f\u043f\u0435\u0442\u0430: \u0441\u043d\u0430\u0447\u0430\u043b\u0430 <a href=\"https:\/\/github.com\/bahmutov\/code-snippets\/blob\/master\/ng-profile-local-digest.js\">ng-profile-local-digest.js<\/a>, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e &#8211;\u00a0<a href=\"https:\/\/github.com\/bahmutov\/code-snippets\/blob\/master\/ng-find-expensive-digest.js\">ng-find-expensive-digest.js<\/a>\u00a0(\u0442\u0430\u043a \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043b\u043e\u0436\u0438\u043b\u043e\u0441\u044c, \u0447\u0442\u043e \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043c\u0435\u0442\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u043f\u0435\u0440\u0432\u043e\u043c). \u041f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0438\u0445 \u043e\u0434\u0438\u043d \u0437\u0430 \u043e\u0434\u043d\u0438\u043c. \u0418 \u0443 \u043d\u0430\u0441 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434\u00a0<code>findExpensiveDigest<\/code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u043f\u043e\u043b\u044f \u0432\u0432\u043e\u0434\u0430:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2290\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/Screenshot-2015-02-03-11.34.21.png\" alt=\"digest profiling\" width=\"475\" height=\"138\" \/><\/p>\n<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0441\u043d\u0438\u043f\u043f\u0435\u0442 &#8211;\u00a0<a href=\"https:\/\/github.com\/bahmutov\/code-snippets\/blob\/master\/ng-count-watchers.js\">ng-count-watchers<\/a>, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432. \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f \u0441\u00a0100 000 \u043f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u0447\u0438\u0441\u043b\u0430\u043c\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0436 500 003 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432! \u0418\u0437 \u043d\u0438\u0445 3 &#8211; \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u044e\u0442\u00a0ng-repeat, \u0432\u0432\u043e\u0434\u0438\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438 \u0447\u0438\u0441\u043b\u043e \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435. \u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 ( 500 000) \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435\u043c \u0432 \u044f\u0447\u0435\u0439\u043a\u0430\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u044b:<\/p>\n<p>[html]<br \/>\n&lt;tr ng-repeat=&quot;prime in primes | orderBy:$index &quot;&gt;<br \/>\n  &lt;td&gt;{{ &quot;index&quot; | lowercase }}&lt;\/td&gt;<br \/>\n  &lt;td&gt;{{ $index + 1 | number:0 | uppercase }}&lt;\/td&gt;<br \/>\n  &lt;td&gt;{{ &quot;prime number&quot; | lowercase }}&lt;\/td&gt;<br \/>\n  &lt;td&gt;{{ prime | number:0 | uppercase }}&lt;\/td&gt;<br \/>\n  &lt;td&gt;is prime? {{ prime | isPrime }}&lt;\/td&gt;<br \/>\n&lt;\/tr&gt;<br \/>\n[\/html]<\/p>\n<p>\u041e\u0431\u0440\u0430\u0442\u0438\u043c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0442\u0440\u043e\u0447\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b.\u00a0\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:<code>{{ \"index\" | lowercase }}<\/code>\u00a0&#8211; \u044d\u0442\u043e \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f, \u043d\u043e \u0410\u043d\u0433\u0443\u043b\u044f\u0440 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u0435\u0433\u043e \u0441\u043d\u043e\u0432\u0430 \u0438 \u0441\u043d\u043e\u0432\u0430, \u0430\u00a0\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0434\u043d\u0438 \u0438 \u0442\u0435 \u0436\u0435, \u0434\u0430\u0436\u0435 \u043a\u043e\u0433\u0434\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u044b\u00a0<code>lowercase<\/code>,\u00a0<code>uppercase<\/code>, <code>isPrime<\/code>\u00a0, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e \u0441\u0443\u0442\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u0435\u043b\u0430\u044e\u0442(\u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u0434\u043e \u0442\u0435\u0433\u0430 <a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-5\">step-5<\/a>):<\/p>\n<p>[html]<br \/>\n&lt;tr ng-repeat=&quot;prime in primes | orderBy:$index &quot;&gt;<br \/>\n  &lt;td&gt;index&lt;\/td&gt;<br \/>\n  &lt;td&gt;{{ $index + 1 | number:0 }}&lt;\/td&gt;<br \/>\n  &lt;td&gt;prime number&lt;\/td&gt;<br \/>\n  &lt;td&gt;{{ prime | number:0 }}&lt;\/td&gt;<br \/>\n  &lt;td&gt;is prime? true&lt;\/td&gt;<br \/>\n&lt;\/tr&gt;<br \/>\n[\/html]<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0443\u0436\u0435 \u0442\u043e\u043b\u044c\u043a\u043e 200 003 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432, \u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0446\u0438\u043a\u043b \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0432 2 \u0440\u0430\u0437\u0430 \u0431\u044b\u0441\u0442\u0440\u0435\u0435.<\/p>\n<h2 id=\"bind-once\">\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b bind-once<\/h2>\n<p>\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0443\u0436\u0435 \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u043e \u0431\u044b\u043b\u0430 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432, \u043d\u043e \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c\u00a0\u0435\u0449\u0435. \u041e\u0442\u043c\u0435\u0442\u0438\u043c \u0442\u043e, \u0447\u0442\u043e \u0432\u00a0\u0442\u043e \u0432\u0440\u0435\u043c\u044f, \u043a\u0430\u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043d\u0435 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f, \u043c\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c 2 \u0432\u043e\u0442\u0447\u0435\u0440\u0430 \u043d\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u0441\u0442\u0440\u043e\u0447\u043a\u0443, \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437, \u043a\u043e\u0433\u0434\u0430 \u043c\u044b \u043c\u0435\u043d\u044f\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0432\u0432\u043e\u0434\u0430( \u0447\u0442\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0446\u0438\u043a\u043b \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430). \u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u044b \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u00a0\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437. Angular1.3 <a href=\"https:\/\/docs.angularjs.org\/guide\/expression#one-time-binding\">\u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442<\/a> &#8220;\u043e\u0434\u043d\u043e\u0440\u0430\u0437\u043e\u0432\u043e\u0435 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u0435&#8221; \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u043e\u043c <code>{{ ::prime}}<\/code>. \u041d\u043e\u00a0AngularJS 1.2 &#8220;\u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438&#8221; \u0442\u0430\u043a\u043e\u0433\u043e \u0443\u0432\u044b \u043d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442. \u041a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u00a0\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c\u00a0<a href=\"https:\/\/github.com\/Pasvaz\/bindonce\">bindonce<\/a>: \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b; \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f:<\/p>\n<p>[html]<br \/>\n&lt;tr ng-repeat=&quot;prime in primes | orderBy:$index &quot; bindonce&gt;<br \/>\n  &lt;td&gt;index&lt;\/td&gt;<br \/>\n  &lt;td bo-text=&quot;$index + 1 | number:0&quot; \/&gt;<br \/>\n  &lt;td&gt;prime number&lt;\/td&gt;<br \/>\n  &lt;td bo-text=&quot;prime | number:0&quot; \/&gt;<br \/>\n  &lt;td&gt;is prime? true&lt;\/td&gt;<br \/>\n&lt;\/tr&gt;<br \/>\n[\/html]<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e 3 \u0432\u043e\u0442\u0447\u0435\u0440\u0430 (\u043f\u043e\u0441\u043b\u0435\u00a0\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 100 000 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b), \u0438 \u0446\u0438\u043a\u043b \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0442\u043e\u043b\u044c\u043a\u043e 5\u043c\u0441. \u041d\u0443 \u0447\u0442\u043e \u0436 \u044d\u0442\u043e \u0443\u0436\u0435 \u043f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u043e\u0442\u0437\u044b\u0432\u0447\u0438\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441.<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u043f\u043e \u0442\u0435\u0433\u0443\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-6\">step-6<\/a>. \u0418 \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c\u00a0<a href=\"https:\/\/github.com\/Pasvaz\/bindonce\">bindonce<\/a>:<\/p>\n<p>[shell]<br \/>\nbower instal angular-bindonce<br \/>\n[\/shell]<\/p>\n<p>&nbsp;<\/p>\n<h2 id=\"get-rid-off-ng-repeat\">\u0418\u0437\u0431\u0430\u0432\u043b\u044f\u0435\u043c\u0441\u044f \u043e\u0442\u00a0ng-repeat<\/h2>\n<p>\u041a\u0430\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u043b\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435: \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 10 \u0441\u0435\u043a\u0443\u043d\u0434, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043a\u0430\u0436\u0434\u0430\u044f \u0441\u0442\u0440\u043e\u0447\u043a\u0430 \u0438 \u044f\u0447\u0435\u0439\u043a\u0430 \u043f\u043e\u0440\u043e\u0436\u0434\u0430\u044e\u0442\u00a0\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0432\u044b\u0437\u043e\u0432\u043e\u0432.<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2291\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/each-row-linked.png\" alt=\"each-row-linked\" width=\"1111\" height=\"729\" \/><\/p>\n<p>\u0427\u0442\u043e\u0431\u044b \u043a\u0430\u043a-\u0442\u043e \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u044d\u0442\u0443 \u0447\u0430\u0441\u0442\u044c, \u044f \u043d\u0430\u043f\u0438\u0441\u0430\u043b \u0441\u0432\u043e\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u00a0HTML \u0438 \u0432\u044b\u0432\u043e\u0434 \u0435\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0447\u0435\u0440\u0435\u0437 <code>innerHTML<\/code>. \u0422\u043e \u0435\u0441\u0442\u044c \u0432\u044b\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u043c\u00a0<code>ng-repeat<\/code> \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c (\u0442\u0435\u0433\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-7\">step-7<\/a>):<\/p>\n<p>[javascript]<br \/>\n\/\/ use AngularJs built-in filter<br \/>\nvar number = $filter(&#8216;number&#8217;);<br \/>\nfunction generateTableRows() {<br \/>\n  var k;<br \/>\n  var str = &#8221;;<br \/>\n  for(k = 0; k &lt; $scope.n; k += 1) {<br \/>\n    str += &#8216;&lt;tr&gt;&lt;td&gt;index&lt;\/td&gt;&#8217;;<br \/>\n    str += &#8216;&lt;td&gt;&#8217; + number(k + 1, 0) + &#8216;&lt;\/td&gt;&#8217;;<br \/>\n    str += &#8216;&lt;td&gt;prime number&lt;\/td&gt;&#8217;;<br \/>\n    str += &#8216;&lt;td&gt;&#8217; + number($scope.primes[k], 0) + &#8216;&lt;\/td&gt;&#8217;;<br \/>\n    str += &#8216;&lt;td&gt;is prime? true&lt;\/td&gt;&lt;\/tr&gt;&#8217;;<br \/>\n  }<br \/>\n  document.getElementsByTagName(&#8216;table&#8217;)[0].innerHTML = str;<br \/>\n}<br \/>\n$scope.find = function () {<br \/>\n  \/\/ generate primes list as before<br \/>\n  generateTableRows();<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0422\u0430\u043a\u043e\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u00a0\u0434\u0430\u043b\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438\u00a0\u0432 10 \u0440\u0430\u0437:<\/p>\n<p><a href=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/in-code-table-generation.png\"><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2292\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/in-code-table-generation.png\" alt=\"in-code-table-generation\" width=\"1110\" height=\"475\" \/><\/a><\/p>\n<p>\u041a\u043e\u043d\u0435\u0447\u043d\u043e \u0436\u0435 \u044d\u0442\u043e \u043b\u0438\u0448\u0430\u0435\u0442 \u0432\u0430\u0441 \u0433\u0438\u0431\u043a\u043e\u0441\u0442\u0438 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441 \u043c\u043e\u0434\u0435\u043b\u044c\u044e, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0434\u0430\u0435\u0442\u00a0<code>ng-repeat<\/code>\u00a0\u0438 \u0442\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u0442\u043e\u0447\u043d\u043e \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442.<\/p>\n<p>&nbsp;<\/p>\n<h2 id=\"initial-rendering\">\u0423\u0441\u043a\u043e\u0440\u044f\u0435\u043c \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439\u00a0\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433<\/h2>\n<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435\u00a0\u043f\u043e\u0434\u043e\u0439\u0434\u0435\u043c \u043a \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u0441 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b: \u0435\u0441\u043b\u0438\u00a0\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0442\u043e \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b, \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u043e. \u0422\u043e \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0432\u0438\u0434\u0438\u0442 \u043a\u0430\u043a\u0438\u0435-\u0442\u043e\u00a0\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u0441\u0435 \u0435\u0449\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f. \u041c\u044b \u043c\u043e\u0436\u0435\u043c \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c\u00a0\u0438 \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 100 \u0447\u0438\u0441\u0435\u043b \u043e\u0447\u0435\u043d\u044c \u0431\u044b\u0441\u0442\u0440\u043e ( &lt; 30 \u043c\u0441). \u042f \u0440\u0430\u0437\u0431\u0438\u043b \u043b\u043e\u0433\u0438\u043a\u0443 \u043d\u0430 2 \u0448\u0430\u0433\u0430\u00a0\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b $timeout \u0441\u0435\u0440\u0432\u0438\u0441, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0439\u00a0\u0448\u0430\u0433 \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f DOM \u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u00a0\u044d\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 100 \u0441\u0442\u0440\u043e\u043a:<\/p>\n<p>[javascript]<br \/>\n$scope.find = function () {<br \/>\n  \/\/ code as before<br \/>\n  var firstBatchN = 100;<br \/>\n  var k;<br \/>\n  for (k = 0; k &lt; firstBatchN; k += 1) {<br \/>\n    var prime = findPrime(k + 2);<br \/>\n    $scope.primes.push(prime);<br \/>\n  }<br \/>\n  generateTableRows(0, firstBatchN);<br \/>\n  \/\/ start second batch via event loop to let browser repaint<br \/>\n  \/\/ return promise to allow timing this action<br \/>\n  return $timeout(function computeSecondBatch() {<br \/>\n    for (k = firstBatchN; k &lt; $scope.n; k += 1) {<br \/>\n      var prime = findPrime(k + 2);<br \/>\n      $scope.primes.push(prime);<br \/>\n    }<br \/>\n    generateTableRows(firstBatchN, $scope.n);<br \/>\n  }, 0);<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u041a\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e \u0442\u0435\u0433\u0443\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-8\">step-8<\/a>.<\/p>\n<p>\u041d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u043c\u044b \u0432\u0438\u0434\u0438\u043c \u044d\u0442\u0438 2 \u0448\u0430\u0433\u0430 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0447\u0435\u0442\u043a\u043e. \u041f\u0435\u0440\u0432\u0430\u044f \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 20\u043c\u0441 \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 find. \u041d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439, \u0442\u0430\u043a \u043a\u0430\u043a \u0432\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0440\u0446\u0438\u044f \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043f\u043e\u043a\u0430 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u044e\u0442\u0441\u044f \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u00a0\u0434\u043b\u044f \u0432\u0441\u0435\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2293\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/fast-first-batch.png\" alt=\"fast-first-batch\" width=\"2548\" height=\"1212\" \/><\/p>\n<p>&nbsp;<\/p>\n<h2 id=\"in-to-pieces\">\u0420\u0430\u0437\u0431\u0438\u0432\u0430\u0435\u043c &#8220;\u0442\u044f\u0436\u0435\u043b\u044b\u0435&#8221; \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u043d\u0430 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0447\u0430\u0441\u0442\u0438<\/h2>\n<p>\u0412 \u0445\u043e\u0434\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u0432\u044b\u0432\u043e\u0434\u0430 \u0447\u0438\u0441\u0435\u043b \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:<\/p>\n<ul>\n<li>\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 JavaScript<\/li>\n<li>\u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (\u043f\u043e\u0437\u0438\u0446\u0438\u044f \u0438\u043b\u0438 \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0430\u0436\u0434\u043e\u0433\u043e DOM \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430)<\/li>\n<li>\u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440<\/li>\n<li>\u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430 \u0432\u0441\u0435\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u0437 \u0431\u0443\u0444\u0435\u0440\u0430<\/li>\n<\/ul>\n<p>\u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u044e\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435, \u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0434\u043d\u0430 \u0438\u0437 \u0447\u0430\u0441\u0442\u0435\u0439 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0441\u043b\u043e\u0436\u043d\u044b\u0435 CSS \u0441\u0442\u0438\u043b\u0438 \u0432\u0435\u0434\u0443\u0442 \u043a \u0434\u043e\u043b\u0433\u043e\u0439 \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0435, \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430. \u041a\u0430\u0436\u0434\u0430\u044f \u0442\u0430\u043a\u0430\u044f \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044f(\u0438\u0437 4 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439) \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c 33\u043c\u0441, \u0435\u0441\u043b\u0438 \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u0434\u043e\u0441\u0442\u0438\u0447\u044c <strong>30 fps<\/strong>, \u0438\u043b\u0438 \u043c\u0435\u043d\u044c\u0448\u0435 16\u043c\u0441, \u0435\u0441\u043b\u0438 \u043d\u0430\u0448\u0430 \u0446\u0435\u043b\u044c <strong>60 fps<\/strong>.<\/p>\n<p>\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c \u0448\u0430\u0433\u0435 \u043c\u044b \u0440\u0430\u0437\u0431\u0438\u043b\u0438 \u043d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 2 \u0447\u0430\u0441\u0442\u0438: \u043f\u0435\u0440\u0432\u0443\u044e \u0432\u044b\u0434\u0430\u0447\u0443\u00a0\u0438 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0443\u044e \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443\u0436\u0435 \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u043e \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438 \u043d\u0435 \u0434\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439.<\/p>\n<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0440\u0430\u0437\u043e\u0431\u044c\u0435\u043c \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u00a0\u043d\u0430 \u043c\u043d\u043e\u0433\u043e \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e 50 \u0447\u0438\u0441\u0435\u043b. \u041f\u043e\u043b\u043d\u044b\u0439 \u0446\u0438\u043a\u043b (\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430, \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 DOM \u0438 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433) \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u0430\u043d\u044f\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 30\u043c\u0441, \u043d\u0435 \u043c\u0435\u0448\u0430\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439 ( \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043f\u0440\u043e\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u0442\u044c \u0432\u043d\u0438\u0437).<\/p>\n<p>\u0427\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043e\u0442\u0440\u0438\u0441\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c <code>$timeout<\/code>\u00a0\u0441\u0435\u0440\u0432\u0438\u0441:<\/p>\n<p>[javascript]<br \/>\nfunction computePrimes(first, last) {<br \/>\n  var k;<br \/>\n  for (k = first; k &lt; last; k += 1) {<br \/>\n    var prime = findPrime(k + 2);<br \/>\n    $scope.primes.push(prime);<br \/>\n  }<br \/>\n}<br \/>\nfunction generateTableRows(first, last) {<br \/>\n  \/\/ &#8230; \u0442\u0443\u0442 \u043c\u044b \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c HTML \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0432 str<br \/>\n  document.getElementsByTagName(&#8216;tbody&#8217;)[0].innerHTML += str;<br \/>\n  console.timeStamp(&#8216;updated tbody &#8216; + first + &#8216; to &#8216; + last);<br \/>\n}<br \/>\nfunction computeAndRenderBatch(first, last) {<br \/>\n  computePrimes(first, last);<br \/>\n  generateTableRows(first, last);<br \/>\n  \/\/ \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u0440\u043e\u043c\u0438\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0438 DOM<br \/>\n  return $timeout(angular.noop, 0);<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 <code>$scope.find<\/code> \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0446\u0435\u043f\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u043c\u0438\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0437\u0430 \u043e\u0434\u043d\u0438\u043c. \u0418 \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u0448\u0430\u0433\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u043e\u00a050 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b, \u00a0\u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d HTML \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 DOM:<\/p>\n<p>[javascript]<br \/>\n$scope.find = function () {<br \/>\n  var batchSize = 50;<br \/>\n  var k;<br \/>\n  \/\/ \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0441 &quot;\u043d\u0443\u043b\u0435\u0432\u043e\u0433\u043e&quot; \u043f\u0440\u043e\u043c\u0438\u0441\u0430 (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0440\u0430\u0437\u0443 \u043e\u0442\u0440\u0435\u0437\u043e\u043b\u0432\u0438\u0442\u0441\u044f)<br \/>\n  var computeAndLetUiRender = $q.when();<br \/>\n  var computeNextBatch;<br \/>\n  for (k = 0; k &lt; $scope.n; k += batchSize) {<br \/>\n    computeNextBatch = angular.bind(null, computeAndRenderBatch,<br \/>\n      k, Math.min(k + batchSize, $scope.n));<br \/>\n    computeAndLetUiRender = computeAndLetUiRender.then(computeNextBatch);<br \/>\n  }<br \/>\n  \/\/ return promise to let timing code snippet know when we are done<br \/>\n  return computeAndLetUiRender;<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 \u0442\u0435\u0433\u0435\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-9\">step-9<\/a>.<\/p>\n<p>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2296\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/small-batches-profile.png\" alt=\"small-batches-profile\" width=\"2218\" height=\"912\" \/><\/p>\n<p>\u041c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u043f\u043e\u0440\u0446\u0438\u044e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0433\u0440\u0430\u0444\u0438\u043a\u0430 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0447\u0442\u043e \u043d\u0430\u0448\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u043e\u0434\u043d\u043e \u0437\u0430 \u043e\u0434\u043d\u0438\u043c.<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2297\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/after-dom-update-using-timeout.png\" alt=\"after-dom-update-using-timeout\" width=\"1550\" height=\"666\" \/><\/p>\n<p>\u041d\u043e \u043c\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u043c \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e\u00a0\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e \u0437\u0430\u043c\u0435\u0434\u043b\u044f\u044e\u0442\u0441\u044f. \u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0438\u043a(\u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430) \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0440\u0430\u0437\u043e\u043c.<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2298\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/small-batches-timeline.png\" alt=\"small-batches-timeline\" width=\"950\" height=\"284\" \/><\/p>\n<p>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u0441\u043f\u043e\u0441\u043e\u0431\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0441\u0442\u0440\u043e\u043a \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443: \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0443 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u0440\u0438\u0441\u043e\u0432\u044b\u0432\u0430\u0442\u044c\u00a0\u0432\u0441\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443!<\/p>\n<p>[javascript]<br \/>\nfunction generateTableRows(first, last) {<br \/>\n  \/\/ generate new rows HTML markup into variable str<br \/>\n  document.getElementsByTagName(&#8216;tbody&#8217;)[0].innerHTML += str;<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0412\u043c\u0435\u0441\u0442\u043e \u0437\u0430\u043c\u0435\u043d\u044b \u0432\u0441\u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e \u0442\u0430\u0431\u043b\u0438\u0446\u044b\u00a0\u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0435\u0435 \u0432 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 ( <em>\u041c\u044b \u0442\u0430\u043a \u0436\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 tbody \u0432 \u0442\u0443 \u0436\u0435 \u0441\u0430\u043c\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443. \u041d\u043e \u044d\u0442\u043e\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043d\u0435 \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043b\u0441\u044f<\/em>\u00a0)<\/p>\n<p>[javascript]<br \/>\nfunction generateTableRows(first, last) {<br \/>\n  var k, txt = angular.bind(document, document.createTextNode);<br \/>\n  var table = document.createElement(&#8216;table&#8217;);<br \/>\n  for(k = first; k &lt; last; k += 1) {<br \/>\n    var row = table.insertRow();<br \/>\n    row.insertCell().appendChild(txt(&#8216;index&#8217;));<br \/>\n    row.insertCell().appendChild(txt(k + 1));<br \/>\n    row.insertCell().appendChild(txt(&#8216;prime number&#8217;));<br \/>\n    row.insertCell().appendChild(txt($scope.primes[k]));<br \/>\n    row.insertCell().appendChild(txt(&#8216;is prime? true&#8217;));<br \/>\n  }<br \/>\n  \/\/ schedule DOM update by attaching new table element to the body<br \/>\n  document.body.appendChild(table);<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0438\u044f \u0431\u0435\u0440\u0435\u043c \u0432 \u0442\u0435\u0433\u0435\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-10\">step-10<\/a>.<\/p>\n<p>\u041d\u0443 \u0432\u043e\u0442 \u043c\u044b \u0438 \u0434\u043e\u0431\u0438\u043b\u0438\u0441\u044c 30fps. \u0427\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u0440\u043e\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u0442\u044c \u0438 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u0435\u0437 \u0442\u043e\u0440\u043c\u043e\u0437\u043e\u0432, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b.<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2299\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/appending-separate-tables.png\" alt=\"appending-separate-tables\" width=\"2794\" height=\"652\" \/><\/p>\n<p>&nbsp;<\/p>\n<h2 id=\"web-workers\">\u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u043c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430 WebWorkers<\/h2>\n<p>\u0412 \u0438\u0442\u043e\u0433\u0435, \u044f \u0440\u0435\u0448\u0438\u043b \u0432\u044b\u043d\u0435\u0441\u0442\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0432 \u043f\u043e\u0442\u043e\u043a \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c. \u00a0\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c <code>isPrime<\/code> \u0438 <code>findPrime<\/code> \u043c\u0435\u0442\u043e\u0434\u044b \u0432 \u0444\u0430\u0439\u043b <code>primes.js<\/code>. \u041e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u043f\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439:<\/p>\n<p>[javascript]<br \/>\n\/\/ primes.js<br \/>\nonmessage = function (e) {<br \/>\n  var first = e.data.first;<br \/>\n  var last = e.data.last;<br \/>\n  var k, primes = [];<br \/>\n  for (k = first; k &lt; last; k += 1) {<br \/>\n    var prime = findPrime(k + 2);<br \/>\n    primes.push(prime);<br \/>\n  }<br \/>\n  \/\/ \u043f\u043e\u0441\u044b\u043b\u0430\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u0440\u0430\u0442\u043d\u043e<br \/>\n  postMessage(primes);<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u0427\u0442\u043e\u0431\u044b \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u0430\u043c\u0438, \u044f \u0441\u043e\u0437\u0434\u0430\u043b \u0441\u0435\u0440\u0432\u0438\u0441:<\/p>\n<p>[javascript]<br \/>\nangular.module(&#8216;Primes&#8217;, [])<br \/>\n  .factory(&#8216;PrimeWorker&#8217;, function ($q) {<br \/>\n    var worker = new Worker(&#8216;.\/primes.js&#8217;);<br \/>\n    var defer;<br \/>\n    worker.onmessage = function(e) {<br \/>\n      defer.resolve(e.data);<br \/>\n    };<br \/>\n    return {<br \/>\n      computePrimes: function (first, last) {<br \/>\n        defer = $q.defer();<br \/>\n        worker.postMessage({<br \/>\n          first: first,<br \/>\n          last: last<br \/>\n        });<br \/>\n        return defer.promise;<br \/>\n      }<br \/>\n    }<br \/>\n  });<br \/>\n[\/javascript]<\/p>\n<p>\u041c\u0435\u0442\u043e\u0434 <code>$scope.find <\/code>\u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e, \u043f\u043e\u044d\u0442\u043e\u043c\u0443<\/p>\n<p>[javascript]<br \/>\n.controller(&#8216;primesController&#8217;, function ($scope, $filter, $timeout, $q, PrimeWorker) {<br \/>\n  function computePrimes(first, last) {<br \/>\n    return PrimeWorker.computePrimes(first, last).then(function (numbers) {<br \/>\n      \/\/ \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0432 \u043c\u0430\u0441\u0441\u0438\u0432<br \/>\n      var k, n = numbers.length;<br \/>\n      for(k = 0; k &lt; n; k += 1) {<br \/>\n        $scope.primes.push(numbers[k]);<br \/>\n      }<br \/>\n    });<br \/>\n  }<br \/>\n  function computeAndRenderBatch(first, last) {<br \/>\n    \/\/ \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u043c\u0438\u0441<br \/>\n    return computePrimes(first, last).then(function () {<br \/>\n      generateTableRows(first, last);<br \/>\n      return $timeout(angular.noop, 0);<br \/>\n    });<br \/>\n  }<br \/>\n[\/javascript]<\/p>\n<p>\u041a\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e \u0442\u0435\u0433\u0443\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-11\">step-11<\/a>.<\/p>\n<p>!\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0414\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 \u043d\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440. \u041c\u043e\u0433\u0443 \u043f\u043e\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c\u00a0<a href=\"https:\/\/github.com\/nodeapps\/http-server\">http-server<\/a>. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u043e(\u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0438\u0437 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430):<\/p>\n<p>[shell]<br \/>\n$ npm install http-server -g<br \/>\n$ http-server<br \/>\n[\/shell]<\/p>\n<p>\u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u0438\u044f\u0442\u043d\u044b\u0435 \u0443\u0437\u043a\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0438\u043a\u0438 \u0434\u043b\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2300\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/web-worker-cpu-profile.png\" alt=\"web-worker-cpu-profile\" width=\"2794\" height=\"724\" \/><\/p>\n<p>\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0433\u0440\u0430\u0444\u0438\u043a \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u0447\u0442\u043e \u0432\u0441\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0438 \u043f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442 \u043f\u043e\u0434 <strong>60fps<\/strong>:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2301\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/web-worker-timeline.png\" alt=\"web-worker-timeline\" width=\"2794\" height=\"668\" \/><\/p>\n<h2><\/h2>\n<h2 id=\"memory-allocation-optimization\">\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438<\/h2>\n<p>\u0415\u0441\u043b\u0438 \u043d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u00a0\u0438 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u043f\u0430\u043c\u044f\u0442\u0438, \u0442\u043e \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0435\u0440\u0435\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u043e\u0441\u0432\u043e\u0431\u043e\u0434\u0438\u0432\u0448\u0443\u044e\u0441\u044f \u043f\u0430\u043c\u044f\u0442\u044c. \u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u043c\u0443\u0441\u043e\u0440\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0443\u0435\u043c\u044b \u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u043b\u0433\u0438\u043c\u0438. \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u044d\u0442\u0438\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f(\u0441\u0431\u043e\u0440\u043a\u0430 \u043c\u0443\u0441\u043e\u0440\u0430) \u043d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440 \u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 &#8220;<em>gc<\/em>&#8221; (garbage collection). \u0412 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u0432\u0438\u0434\u0438\u043c \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u043e \u0441\u0431\u043e\u0440\u043a\u0435 \u043c\u0443\u0441\u043e\u0440\u0430: \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u0438 \u044d\u0442\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c 100\u043c\u0441. (\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0430 \u044f \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b 150 000 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u043f\u043e\u0440\u0446\u0438\u044f\u043c\u0438 \u043f\u043e 10 000). \u042d\u0442\u043e \u0437\u0430\u043c\u0435\u0442\u043d\u043e \u043d\u0435 \u0432\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u043c \u0432\u0437\u0433\u043b\u044f\u0434\u043e\u043c, \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0433\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0430\u043c\u044f\u0442\u044c\u044e (\u0433\u0430\u043b\u043e\u0447\u043a\u0430 &#8220;Memory&#8221;):<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2303\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/memory-dynamically-allocated.png\" alt=\"memory-dynamically-allocated\" width=\"2798\" height=\"888\" \/><\/p>\n<p>\u041f\u0435\u0440\u0432\u044b\u0439 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043d\u0430 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 &#8211; \u043c\u0430\u0441\u0441\u0438\u0432 <code>$scope.primes<\/code>. \u041e\u0442\u043c\u0435\u0442\u0438\u043c, \u0447\u0442\u043e \u043e\u043d \u0440\u0430\u0441\u0442\u0435\u0442 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043e\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0440\u0430\u0437\u043c\u0435\u0440\u043d\u043e\u0441\u0442\u0438 0 \u0438 \u043c\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432 \u043e\u0434\u043d\u043e \u0437\u0430 \u043e\u0434\u043d\u0438\u043c:<\/p>\n<p>[javascript]<br \/>\nvar k, n = numbers.length;<br \/>\nfor(k = 0; k &lt; n; k += 1) {<br \/>\n  $scope.primes.push(numbers[k]);<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u042d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u043d\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438: \u043a\u043e\u0433\u0434\u0430 \u043d\u043e\u0432\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f\u00a0\u0432 \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0439 \u043c\u0430\u0441\u0441\u0438\u0432, \u0441\u0440\u0435\u0434\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0432\u044b\u0434\u0435\u043b\u044f\u0435\u0442\u00a0\u043f\u0430\u043c\u044f\u0442\u044c \u043f\u043e\u0434 \u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 (\u043e\u0431\u044b\u0447\u043d\u043e \u0432\u044b\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0432 2 \u0440\u0430\u0437\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0430\u043c\u044f\u0442\u0438), \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0438\u0441\u043b\u0430 \u0438 \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u0430\u043c\u044f\u0442\u044c \u0437\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u043c. \u042f \u0438\u0437\u043c\u0435\u043d\u0438\u043b \u043a\u043e\u0434 \u0437\u0430\u0434\u0430\u0432 \u043c\u0430\u0441\u0441\u0438\u0432 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0439 \u0434\u043b\u0438\u043d\u043d\u044b \u0441 \u0441\u0430\u043c\u043e\u0433\u043e \u043d\u0430\u0447\u0430\u043b\u0430 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b):<\/p>\n<p>[javascript]<br \/>\n$scope.primes = new Array($scope.n);<br \/>\n$scope.computedN = 0;<br \/>\n\/\/ copy numbers<br \/>\nvar k, n = numbers.length;<br \/>\nfor(k = 0; k &lt; n; k += 1) {<br \/>\n  $scope.primes[$scope.computedN] = numbers[k];<br \/>\n  $scope.computedN += 1;<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u0441\u044f \u0438\u0437 \u0442\u0435\u0433\u0430\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-12\">step-12<\/a>.<\/p>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0433\u0440\u0430\u0444\u0438\u043a \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0435 \u0442\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0435 \u0441\u043a\u0430\u0447\u043a\u0438 \u0432 \u043f\u0430\u043c\u044f\u0442\u0438:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2304\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/memory-preallocated.png\" alt=\"memory-preallocated\" width=\"2796\" height=\"890\" \/><\/p>\n<p>\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0438\u043d\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0435\u0440 \u0431\u0430\u0440\u0430\u0445\u043b\u0438\u0442 \u0438 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435 \u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e.<\/p>\n<p>&nbsp;<\/p>\n<h2 id=\"memory-profile-isolation\">\u0418\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0430\u043c\u044f\u0442\u0438<\/h2>\n<p>\u0427\u0442\u043e\u0431\u044b \u043b\u0443\u0447\u0448\u0435 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u0437\u043e\u043b\u0438\u0440\u0443\u0435\u043c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0448\u0430\u0433\u0438. \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0432\u044b\u043a\u043b\u044e\u0447\u0438\u043c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e DOM &#8211; \u043e\u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e &#8220;\u0448\u0443\u043c\u0430&#8221; \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432.<\/p>\n<p>[javascript]<br \/>\nfunction computeAndRenderBatch(first, last) {<br \/>\n  return computePrimes(first, last).then(function () {<br \/>\n    \/\/ generateTableRows(first, last);<br \/>\n    return $timeout(angular.noop, 0);<br \/>\n  });<br \/>\n}<br \/>\n[\/javascript]<\/p>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0435\u0440 \u0432\u044b\u0434\u0435\u043b\u044f\u0435\u043c\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0435\u0440 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0435\u0440 \u0438 \u0437\u0430\u0442\u0435\u043c \u043d\u0430\u0436\u0438\u043c\u0430\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0443 &#8220;Find&#8221;:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2305\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/profile-heap-allocations.png\" alt=\"profile-heap-allocations\" width=\"2018\" height=\"744\" \/><\/p>\n<p>\u041f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e\u00a0\u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u043e\u0434 \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u044b \u0441 \u043d\u0430\u0447\u0430\u043b\u0430. (\u043f\u0440\u0438\u043c.:<em>\u00a0\u043c\u043e\u0436\u0435\u043c \u043d\u0430\u0432\u0435\u0441\u0442\u0438 \u043c\u044b\u0448\u043a\u043e\u0439, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f<\/em>). \u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0447\u0442\u043e \u043e\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u0430\u043c\u044f\u0442\u0438 600 008 \u0431\u0430\u0439\u0442 (\u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438\u00a0150 000 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b). \u0414\u0432\u0438\u0436\u043e\u043a V8 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043b \u0447\u0442\u043e \u043c\u044b \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0435\u043b\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e 4 \u0431\u0430\u0439\u0442\u0430 \u043d\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442. \u041c\u0430\u0441\u0441\u0438\u0432 \u0442\u0430\u043a\u0436\u0435 \u0438\u043c\u0435\u0435\u0442 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e <code>length<\/code> &#8211; \u044d\u0442\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 8 \u0431\u0430\u0439\u0442.<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone  wp-image-2306\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/primes-array.png\" alt=\"primes-array\" width=\"648\" height=\"242\" \/><\/p>\n<p>\u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0430\u0435\u0442 \u043d\u0430\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0438 \u043f\u0430\u043c\u044f\u0442\u0438 \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430, \u043d\u043e \u043e\u043d \u043d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u0430\u0445. \u0418\u0437\u0443\u0447\u0438\u0442\u044c \u0443\u0442\u0435\u0447\u043a\u0438 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u0430\u0445 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 &#8220;primes.js&#8221; \u043f\u0435\u0440\u0435\u0434 \u0441\u0442\u0430\u0440\u0442\u043e\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2307\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/profile-web-worker-heap.png\" alt=\"profile-web-worker-heap\" width=\"2018\" height=\"732\" \/><\/p>\n<p>\u0421\u043e\u0431\u0440\u0430\u043d\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0432\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438 \u043d\u0430 \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u0430\u0445 \u043c\u0435\u043d\u0435\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u043d \u0438\u0437-\u0437\u0430 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u044b\u0445 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439. \u041d\u043e \u043c\u044b \u0432\u0441\u0435 \u0440\u0430\u0432\u043d\u043e \u043c\u043e\u0436\u0435\u043c \u0447\u0435\u0442\u043a\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0440\u0430\u0441\u0442\u0443\u0449\u0435\u0435 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438. \u0415\u0441\u043b\u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e &#8211; \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043c \u043c\u0430\u0441\u0441\u0438\u0432 <code>foundPrimes<\/code>:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2308\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/inspect-web-worker-heap.png\" alt=\"inspect-web-worker-heap\" width=\"2798\" height=\"874\" \/><\/p>\n<p>\u0414\u043b\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u0430 <code>foundPrimes<\/code> \u043c\u044b \u0442\u0430\u043a \u0436\u0435 \u043c\u043e\u0436\u0435\u043c \u0441\u0440\u0430\u0437\u0443 \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u043c\u044f\u0442\u0438 (\u0442\u0435\u043c \u0441\u0430\u043c\u044b\u043c \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0438 \u0441\u0431\u043e\u0440\u043a\u0443 \u043c\u0443\u0441\u043e\u0440\u0430).<\/p>\n<h2 id=\"on-request-compulation\">\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443<\/h2>\n<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043c \u0441\u043f\u043e\u0441\u043e\u0431 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c. \u0412\u043c\u0435\u0441\u0442\u043e \u043f\u0440\u0435\u0434\u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u0442\u044b\u0441\u044f\u0447 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0447\u0438\u0441\u0435\u043b, \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0447\u0438\u0441\u0435\u043b \u0438 \u043e\u0442\u0440\u0438\u0441\u0443\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0443. \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442 \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0431\u043e\u043b\u044c\u0448\u0435\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0447\u0438\u0441\u0435\u043b, \u043c\u044b \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u043f\u0430\u0440\u0442\u0438\u044e\u00a0\u0447\u0438\u0441\u0435\u043b \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0438\u0445 \u0432 DOM. \u041c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c\u00a0\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e \u043a \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443\u00a0<a href=\"http:\/\/binarymuse.github.io\/ngInfiniteScroll\/index.html\">ngInfiniteScroll<\/a>. \u0414\u043b\u044f \u044d\u0442\u043e\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b \u043d\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c jQuery:<\/p>\n<p>[html]<br \/>\n&lt;script src=&quot;bower_components\/jquery\/dist\/jquery.min.js&quot;&gt;&lt;\/script&gt;<br \/>\n&lt;script src=&quot;bower_components\/angular\/angular.js&quot;&gt;&lt;\/script&gt;<br \/>\n&lt;script src=&quot;bower_components\/ngInfiniteScroll\/build\/ng-infinite-scroll.min.js&quot;&gt;&lt;\/script&gt;<br \/>\n[\/html]<\/p>\n<p>\u0414\u043b\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u044b \u044f \u0441\u043d\u043e\u0432\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e <code>ng-repeat<\/code>. \u041c\u044b \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c <code>$scope.find<\/code> \u043c\u0435\u0442\u043e\u0434 \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u044b \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441\u0440\u0430\u0432\u043d\u044f\u044e\u0442\u0441\u044f \u0441 \u0433\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u043e\u043a\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u041f\u0435\u0440\u0432\u044b\u0439 \u0432\u044b\u0437\u043e\u0432 <code>$scope.find<\/code> \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u00a0<code>infinite-scroll-immediate-check<\/code>.<\/p>\n<p>[html]<br \/>\n&lt;table id=&quot;table&quot; width=&quot;500&quot;&gt;<br \/>\n  &lt;tbody infinite-scroll=&quot;find()&quot;<br \/>\n    infinite-scroll-distance=&quot;3&quot;<br \/>\n    infinite-scroll-immediate-check=&quot;true&quot;<br \/>\n    infinite-scroll-disabled=&quot;computing&quot;&gt;<br \/>\n    &lt;tr ng-repeat=&quot;prime in primes&quot;&gt;<br \/>\n      &lt;td&gt;index&lt;\/td&gt;<br \/>\n      &lt;td&gt;{{ $index + 1 | number:0 }}&lt;\/td&gt;<br \/>\n      &lt;td&gt;prime number&lt;\/td&gt;<br \/>\n      &lt;td&gt;{{ prime | number:0 }}&lt;\/td&gt;<br \/>\n      &lt;td&gt;is prime? true&lt;\/td&gt;<br \/>\n    &lt;\/tr&gt;<br \/>\n  &lt;\/tbody&gt;<br \/>\n&lt;\/table&gt;<br \/>\n[\/html]<\/p>\n<p>\u042f \u0432\u044b\u043a\u0438\u043d\u0443\u043b \u0440\u0443\u0447\u043d\u0443\u044e \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e html \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u043b\u0430 (\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e \u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u0432 \u0432\u0435\u0431\u0432\u043e\u0440\u043a\u0435\u0440\u0435).<\/p>\n<p>[javascript]<br \/>\n$scope.find = function () {<br \/>\n  $scope.computing = true;<br \/>\n  return computePrimes($scope.primes.length, $scope.primes.length + batchSize)<br \/>\n  .then(function () {<br \/>\n    console.log(&#8216;computed&#8217;, $scope.primes.length, &#8216;primes&#8217;);<br \/>\n    $scope.computing = false;<br \/>\n  });<br \/>\n};<br \/>\n[\/javascript]<\/p>\n<p>\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u043a\u043e\u0434 \u0432 \u0442\u0435\u0433\u0435\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-13\">step-13<\/a>.<\/p>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0432\u044b\u0435 100 \u0447\u0438\u0441\u0435\u043b. \u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0430\u0447\u043d\u0435\u0442\u0435 \u043f\u0440\u043e\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u0442\u044c \u0432\u043d\u0438\u0437, \u0442\u043e \u043d\u043e\u0432\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u044b \u043d\u043e\u0432\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u00a0\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435. \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u0430\u044f, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442\u044c \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0443. \u041d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0443\u0432\u0438\u0434\u0435\u0442\u044c 3 \u0441\u0442\u043e\u043b\u0431\u0438\u043a\u0430 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0435\u0440\u0432\u044b\u0445 400 \u0447\u0438\u0441\u0435\u043b (\u043f\u0435\u0440\u0432\u044b\u0435 100 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b \u0434\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f):<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2311\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/infinite-scroll.png\" alt=\"infinite-scroll\" width=\"1530\" height=\"1254\" \/><\/p>\n<h2><\/h2>\n<h2 id=\"watched-objects-minimization\">\u041c\u0438\u043d\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432<\/h2>\n<p>\u0415\u0449\u0435 \u043e\u0434\u043d\u0430 \u043d\u0435 \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0442\u043e\u0440\u043c\u043e\u0437\u043e\u0432 \u0432 AngularJS &#8211; \u0442\u044f\u0436\u0435\u043b\u044b\u0435 \u0432\u043e\u0442\u0447\u0435\u0440\u044b, \u0430 \u0438\u043c\u0435\u043d\u043d\u043e \u0432\u043e\u0442\u0447\u0435\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u044e\u0442 \u0437\u0430 \u0441\u043b\u043e\u0436\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c, \u0430 \u0435\u0449\u0435 \u0445\u0443\u0436\u0435 \u0437\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u043e\u0431\u044a\u0435\u043a\u0442. \u0412\u043e\u0442 \u044d\u0442\u0438 2 \u0432\u043e\u0442\u0447\u0435\u0440\u0430:<\/p>\n<p>[javascript]<br \/>\nangular.module(&#8216;Primes&#8217;, [])<br \/>\n  .controller(&#8216;primesController&#8217;, function ($scope) {<br \/>\n    $scope.primes = &#8230;<br \/>\n    $scope.$watch(&#8216;primes&#8217;, &#8230;);<br \/>\n    \/\/ OR<br \/>\n    $scope.$watch(function () {<br \/>\n      return $scope.primes;<br \/>\n    }, &#8230;);<\/p>\n<p>[\/javascript]<\/p>\n<p>AngularJS \u0434\u0435\u043b\u0430\u0435\u0442 \u0433\u0440\u044f\u0437\u043d\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 &#8211; \u0432 \u0445\u043e\u0434\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430 \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 \u043a\u0430\u0436\u0434\u0430\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u043c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043d\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c. \u042d\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0432\u043e\u0442\u0447\u0435\u0440 \u0441 <a title=\"\u0434\u043b\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u044d\u0442\u043e \u043f\u043e\u043b\u043d\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439, \u0430 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\" href=\"#\">\u0433\u043b\u0443\u0431\u043e\u043a\u0438\u043c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435\u043c<\/a>, \u0442\u043e\u0433\u0434\u0430 \u0430\u043d\u0433\u0443\u043b\u044f\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043f\u043e\u043b\u043d\u0443\u044e \u043a\u043e\u043f\u0438\u044e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0434\u043e\u0440\u043e\u0433\u043e \u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u0430\u0441\u0441\u0438\u0432 \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438:<\/p>\n<p>[javascript]<br \/>\n$scope.n = 10000;<br \/>\n$scope.primes = new Array($scope.n);<br \/>\nfor (k = 0; k &lt; $scope.n; k += 1) {<br \/>\n  $scope.primes[k] = { foo: { bar: &#8216;baz&#8217; } };<br \/>\n}<br \/>\n$scope.$watch(function primesWatcher() {<br \/>\n  return $scope.primes;<br \/>\n}, angular.noop, true); \/\/ do nothing on value change<br \/>\n[\/javascript]<\/p>\n<p>\u0412\u0437\u044f\u0442\u044c \u043a\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0438\u0437 \u0442\u0435\u0433\u0430\u00a0<a href=\"https:\/\/github.com\/bahmutov\/primes\/releases\/tag\/step-14\">step-14<\/a>.<\/p>\n<p>\u0418\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u0441\u044f \u043d\u0430 500\u043c\u0441 \u0438\u0437-\u0437\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0438\u0437 <code>primesWatcher<\/code> \u0438 \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u043c\u043e\u0433\u043e \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f. \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043d\u0435\u0441\u0435\u0442 \u0442\u043e\u0436\u0435 \u043d\u0430\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u044a\u0435\u043a\u0442 primes \u0431\u0443\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d.<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-2312\" src=\"https:\/\/stepansuvorov.com\/blog\/wp-content\/uploads\/2015\/02\/deep-copy-profile.png\" alt=\"deep-copy-profile\" width=\"2370\" height=\"960\" \/><\/p>\n<p>\u0412\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430: <span style=\"text-decoration: underline;\">\u043f\u043e\u043b\u043d\u0430\u044f \u043a\u043e\u043f\u0438\u044f \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u041d\u0410\u041c\u041d\u041e\u0413\u041e \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0447\u0435\u043c \u043f\u043e\u043b\u043d\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435<\/span>. \u041e\u0442\u0441\u044e\u0434\u0430 \u0438 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0435 \u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0430 \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430, \u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0433\u0434\u0430 \u0447\u0442\u043e-\u0442\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e. \u041d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435 \u044d\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u0443\u044e \u0440\u0435\u0430\u043a\u0446\u0438\u044e \u043d\u0430 \u0432\u0432\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0433\u0434\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u043e\u0442\u0447\u0435\u0440\u0430 \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u0442\u0441\u044f.<\/p>\n<p>\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043a\u0430\u043a \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0434\u043e\u0440\u043e\u0433\u043e\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0432\u043e\u0442\u0447\u0435\u0440\u0430\u0445:<\/p>\n<ul>\n<li>\u0441\u0442\u0430\u0440\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 (\u043d\u043e \u043d\u0435 \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0431\u043e\u0440)<\/li>\n<li>\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u00a0\u0432\u043e\u0442\u0447\u0435\u0440 \u0434\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439<\/li>\n<\/ul>\n<p>\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:<\/p>\n<p>[javascript]<br \/>\n\/\/ \u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u043e\u0442\u0447\u0435\u0440\u043e\u0432<br \/>\n$scope.$watch(function () {<br \/>\n  return $scope.primes;<br \/>\n}, foo, true);<br \/>\n$scope.$watch(function () {<br \/>\n  return $scope.primes;<br \/>\n}, bar, true);<br \/>\n$scope.$watch(function () {<br \/>\n  return $scope.primes;<br \/>\n}, baz, true);<br \/>\n\/\/ \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043e\u0434\u0438\u043d<br \/>\n$scope.$watch(function () {<br \/>\n  return $scope.primes;<br \/>\n}, function () {<br \/>\n  foo();<br \/>\n  bar();<br \/>\n  baz();<br \/>\n}, true);<br \/>\n[\/javascript]<\/p>\n<ul>\n<li>\u00a0\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u043b\u043e\u0433\u0438\u043a\u0443 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f\u00a0\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u00a0\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f<\/li>\n<\/ul>\n<p>\u041e\u0431\u044a\u0435\u043a\u0442 <code>primes<\/code> \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437, \u043a\u043e\u0433\u0434\u0430 \u043c\u044b \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u043e\u0435 \u0447\u0438\u0441\u043b\u043e:<\/p>\n<p>[javascript]<br \/>\n.controller(&#8216;primesController&#8217;, function ($scope) {<br \/>\n  var primesChanged = 0;<br \/>\n  $scope.find = function () {<br \/>\n    $scopes.primes.push(findNextPrime());<br \/>\n    primesChanged += 1;<br \/>\n  };<br \/>\n  $scope.$watch(function () {<br \/>\n    return primesChanged;<br \/>\n  }, function () { &#8230; });<br \/>\n});<br \/>\n[\/javascript]<\/p>\n<p>\u0422\u0443\u0442 \u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0441\u0447\u0435\u0442\u0447\u0438\u043a, \u0447\u0442\u043e\u0431\u044b \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432\u043e\u0442\u0447\u0435\u0440, \u043a\u043e\u0433\u0434\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u0431\u044b \u044f \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u043b true\/false, \u0446\u0438\u043a\u043b \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430 \u0431\u044b \u043d\u0435 \u0437\u0430\u043c\u0435\u0442\u0438\u043b \u0440\u0430\u0437\u043d\u0438\u0446\u044b, \u0442\u0430\u043a \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437\u043d\u0438\u0446\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0438\u0433\u0440\u0430\u0435\u0442 \u0440\u043e\u043b\u044c, \u0430 \u043d\u0435 \u0441\u0430\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439.<\/p>\n<h2><\/h2>\n<h2 id=\"conclusions\">\u0412\u044b\u0432\u043e\u0434\u044b \u0438 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435<\/h2>\n<p>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u044d\u0442\u043e \u043f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441.<\/p>\n<ol>\n<li>\u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u0443\u0439\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043d\u044b\u0435\u00a0\u043c\u0435\u0441\u0442\u0430<\/li>\n<li>\u0423\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430<\/li>\n<li>\u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0439\u0442\u0435 \u0448\u0430\u0433\u0438 1-2<\/li>\n<\/ol>\n<p>\u042f \u0441\u0447\u0438\u0442\u0430\u044e \u0446\u0435\u043b\u0435\u0441\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u044b\u043c \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0430\u043c\u044b\u0435 \u044f\u0432\u043d\u044b\u0435\u00a0\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430, \u043f\u0440\u0435\u0436\u0434\u0435 \u0447\u0435\u043c \u043f\u043e\u0433\u0440\u0443\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u043e\u043b\u043d\u044b\u0439 \u0430\u043d\u0430\u043b\u0438\u0437. \u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u043c\u044b \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u043a\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u0430\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u043e\u0440\u043c\u043e\u0437\u0430. \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043c\u043e\u0433\u043b\u043e \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430.<\/p>\n<p>\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e\u00a0\u043a\u043e\u0434 \u043b\u044e\u0431\u043e\u0433\u043e JavaScript \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430. \u041a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u043a\u043e\u0434 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d, \u044f\u00a0\u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u044e\u0441\u044c \u043d\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044e \u0410\u043d\u0433\u0443\u043b\u044f\u0440\u0430, \u043f\u043e \u0431\u043e\u043b\u044c\u0448\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u044d\u0442\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0448\u043d\u0435\u0439\u00a0\u0440\u0430\u0431\u043e\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0434\u0435\u043b\u0430\u0435\u0442 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a. \u041f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e, \u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u044e \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430\/\u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u0443\u044e \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0443, \u0432 \u043d\u0430\u0434\u0435\u0436\u0434\u0435 \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043a\u0443\u0441\u043a\u0438 \u043d\u0430 \u0441\u0440\u0430\u0432\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0447\u0430\u0441\u0442\u0438.<\/p>\n<p>\u0413\u0440\u0430\u043c\u0430\u0442\u043d\u043e\u0435\u00a0\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0437\u043d\u0430\u043d\u0438\u0439 JavaScript, \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0442\u043e\u0440\u043e\u0432 \u0441\u0440\u0435\u0434\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u043e\u0433\u043e \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 \u0438 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u0412 \u043f\u0435\u0440\u0432\u0443\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043e\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f\u0445. AngularJS \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u0442\u0438\u0447\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0433\u0440\u044f\u0437\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432 \u0445\u043e\u0434\u0435 \u0446\u0438\u043a\u043b\u0430 \u0434\u0430\u0439\u0434\u0436\u0435\u0441\u0442\u0430. \u041e\u0434\u043d\u0430\u043a\u043e, \u044d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u0433\u0438\u0431\u043a\u0438\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a, \u043a\u0430\u043a \u0432\u044b \u043c\u043e\u0433\u043b\u0438 \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445. \u042f \u0441\u043c\u043e\u0433\u00a0\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0447\u0430\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0448\u0430\u0433\u0438, \u043d\u043e \u044d\u0442\u043e \u043f\u043e \u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u0410\u043d\u0433\u0443\u043b\u0430\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u0422\u043e \u0435\u0441\u0442\u044c \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u0430\u043a\u0438\u0445-\u0442\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445\u00a0\u0447\u0430\u0441\u0442\u0435\u0439 \u0431\u0435\u0437 \u0436\u0435\u0440\u0442\u0432\u044b \u0433\u0438\u0431\u043a\u043e\u0441\u0442\u0438 \u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u044b \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.<\/p>\n<p><strong>UPD<\/strong>: \u043a\u0430\u043a \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443 ng-repeat c\u00a0ngInfiniteScroll \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443\u00a0<a title=\"http:\/\/kamilkp.github.io\/angular-vs-repeat\" href=\"http:\/\/kamilkp.github.io\/angular-vs-repeat\">angular-vs-repeat<\/a>\u00a0(\u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e &#8220;\u0432\u0438\u0434\u0438\u043c\u044b\u0435&#8221; \u0441\u0442\u0440\u043e\u0447\u043a\u0438), \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0442\u0430\u043a \u0436\u0435 \u0434\u0430\u0435\u0442 \u0445\u043e\u0440\u043e\u0448\u0438\u0439 \u043f\u0440\u0438\u0440\u043e\u0441\u0442 \u043a \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u0412\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0442\u0430\u0442\u044c\u0438 &#8220;Improving Angular web app performance example&#8220;. \u0422\u0440\u0430\u043a\u0442\u0430\u0442 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439. \u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u0438\u043a \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442 \u0434\u043b\u044f \u043b\u044e\u0431\u043e\u0433\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e AngularJS). \u0421\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432: \u041f\u0440\u0438\u043c\u0435\u0440 \u043d\u0435 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u041f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 Chrome \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c &hellip; <a href=\"https:\/\/stepansuvorov.com\/blog\/2015\/02\/angularjs-optimization\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[4],"tags":[120,136,17,343,332,344],"_links":{"self":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts\/2063"}],"collection":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/comments?post=2063"}],"version-history":[{"count":20,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts\/2063\/revisions"}],"predecessor-version":[{"id":2321,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/posts\/2063\/revisions\/2321"}],"wp:attachment":[{"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/media?parent=2063"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/categories?post=2063"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/stepansuvorov.com\/blog\/wp-json\/wp\/v2\/tags?post=2063"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}