<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>node.js &#8211; Stepan Suvorov Blog</title>
	<atom:link href="https://stepansuvorov.com/blog/tag/node-js/feed/" rel="self" type="application/rss+xml" />
	<link>https://stepansuvorov.com/blog</link>
	<description>Release 2.0</description>
	<lastBuildDate>Wed, 11 Oct 2017 05:24:44 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.3.1</generator>
	<item>
		<title>Node Frameworks</title>
		<link>https://stepansuvorov.com/blog/2017/10/node-frameworks/</link>
					<comments>https://stepansuvorov.com/blog/2017/10/node-frameworks/#comments</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Sat, 07 Oct 2017 12:55:05 +0000</pubDate>
				<category><![CDATA[Рекомендую]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[node.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=3458</guid>

					<description><![CDATA[just a bookmark for list of frameworks. Now I&#8217;m in process of looking something suitable for our project. Koa2 &#8211; too hipster, good for learning express &#8211; old but still green loopback &#8211; good env and tooling, too much abstraction &#8230; <a href="https://stepansuvorov.com/blog/2017/10/node-frameworks/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p><a href="http://nodeframework.com/"><img decoding="async" class="alignnone size-full wp-image-3459" src="https://stepansuvorov.com/blog/wp-content/uploads/2017/10/Screen-Shot-2017-10-07-at-14.51.48.png" alt="" width="247" height="85" /></a></p>
<p>just a bookmark for list of frameworks.</p>
<p>Now I&#8217;m in process of looking something suitable for our project.</p>
<ul>
<li><a href="https://github.com/koajs/koa">Koa2</a> &#8211; too hipster, good for learning</li>
<li><a href="https://expressjs.com/">express</a> &#8211; old but still green</li>
<li><a href="https://loopback.io/">loopback</a> &#8211; good env and tooling, too much abstraction</li>
<li><a href="https://github.com/nestjs/nest">nestjs</a> &#8211; typescript, decorators, very Angular-like one</li>
<li>&#8230;</li>
</ul>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2017/10/node-frameworks/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>Runkit &#8211; Node.js Playground</title>
		<link>https://stepansuvorov.com/blog/2017/03/runkit-node-js-playground/</link>
					<comments>https://stepansuvorov.com/blog/2017/03/runkit-node-js-playground/#respond</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Tue, 28 Mar 2017 20:42:15 +0000</pubDate>
				<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[node.js]]></category>
		<category><![CDATA[playground]]></category>
		<category><![CDATA[sandbox]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=3341</guid>

					<description><![CDATA[Runkit &#8211; your quick playground just with node.js or with some npm modules(like rxjs, md5, etc) &#160;]]></description>
										<content:encoded><![CDATA[<p><a href="https://runkit.com"><img decoding="async" class="alignnone size-full wp-image-3342" src="https://stepansuvorov.com/blog/wp-content/uploads/2017/03/Screen-Shot-2017-03-28-at-14.52.04.png" alt="" width="72" height="57" /></a></p>
<p><a href="https://runkit.com">Runkit</a> &#8211; your quick playground just with <a href="https://runkit.com/npm/">node.js</a> or with some npm modules(like <a href="https://runkit.com/npm/rxjs">rxjs</a>, <a href="https://runkit.com/stevermeister/58da5b4d2317e00014a1c911">md5</a>, etc)</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2017/03/runkit-node-js-playground/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>localtunnel &#8211; show your work to anyone</title>
		<link>https://stepansuvorov.com/blog/2015/05/localtunnel-show-your-work-to-anyone/</link>
					<comments>https://stepansuvorov.com/blog/2015/05/localtunnel-show-your-work-to-anyone/#respond</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Thu, 21 May 2015 20:47:57 +0000</pubDate>
				<category><![CDATA[Рекомендую]]></category>
		<category><![CDATA[localtunnel]]></category>
		<category><![CDATA[node.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=2668</guid>

					<description><![CDATA[localtunnel &#8211; easy way to share your work(local server output) by providing tunnel from your machine to the internet. All you need to so is run 2 commands: [shell] $ npm install -g localtunnel $ lt &#8211;port 8000 [/shell] And after &#8230; <a href="https://stepansuvorov.com/blog/2015/05/localtunnel-show-your-work-to-anyone/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p><strong><a href="http://localtunnel.me/">localtunnel</a></strong> &#8211; easy way to share your work(local server output) by providing tunnel from your machine to the internet.</p>
<p>All you need to so is run 2 commands:</p>
<p>[shell]<br />
$ npm install -g localtunnel<br />
$ lt &#8211;port 8000<br />
[/shell]</p>
<p>And after you&#8217;ll get the link to share, something like <em>https://gqgh.localtunnel.me</em></p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2015/05/localtunnel-show-your-work-to-anyone/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>faker.js &#8211; data generator library</title>
		<link>https://stepansuvorov.com/blog/2015/05/faker-js-data-generator-library/</link>
					<comments>https://stepansuvorov.com/blog/2015/05/faker-js-data-generator-library/#respond</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Wed, 20 May 2015 19:59:25 +0000</pubDate>
				<category><![CDATA[Рекомендую]]></category>
		<category><![CDATA[faker.js]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[node.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=2665</guid>

					<description><![CDATA[faker.js &#8211; javascript library to generate test/mock data, very simple in use, works for browser and node.js. Check on jsfiddle.]]></description>
										<content:encoded><![CDATA[<p><a href="https://github.com/marak/Faker.js/"><img decoding="async" class="alignnone  wp-image-2666" src="https://stepansuvorov.com/blog/wp-content/uploads/2015/05/687474703a2f2f696d6775722e636f6d2f4b69696e512e706e67.png" alt="faker.js" width="147" height="199" /></a></p>
<p><strong><a href="https://github.com/marak/Faker.js/">faker.js</a></strong> &#8211; javascript library to generate test/mock data, very simple in use, works for browser and node.js. Check on <a href="http://jsfiddle.net/STEVER/mbahwx0y/">jsfiddle</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2015/05/faker-js-data-generator-library/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Разворачиваем базу проекта на JavaScript</title>
		<link>https://stepansuvorov.com/blog/2014/04/%d1%80%d0%b0%d0%b7%d0%b2%d0%be%d1%80%d0%b0%d1%87%d0%b8%d0%b2%d0%b0%d0%b5%d0%bc-%d0%b1%d0%b0%d0%b7%d1%83-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%b0-%d0%bd%d0%b0-javascript/</link>
					<comments>https://stepansuvorov.com/blog/2014/04/%d1%80%d0%b0%d0%b7%d0%b2%d0%be%d1%80%d0%b0%d1%87%d0%b8%d0%b2%d0%b0%d0%b5%d0%bc-%d0%b1%d0%b0%d0%b7%d1%83-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%b0-%d0%bd%d0%b0-javascript/#comments</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Wed, 09 Apr 2014 19:59:28 +0000</pubDate>
				<category><![CDATA[Хочу сделать мир лучше]]></category>
		<category><![CDATA[db]]></category>
		<category><![CDATA[deploy]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[migrate]]></category>
		<category><![CDATA[node.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=1607</guid>

					<description><![CDATA[Растут JavaScript проекты и соответственно становятся лучше инструменты сборки. Самое время задуматься о разворачивании базы своего проекта на JavaScript. А ведь и правда: если проект написан 100% на одной технологии (да, и сервер тоже), зачем думать о другой технологии для &#8230; <a href="https://stepansuvorov.com/blog/2014/04/%d1%80%d0%b0%d0%b7%d0%b2%d0%be%d1%80%d0%b0%d1%87%d0%b8%d0%b2%d0%b0%d0%b5%d0%bc-%d0%b1%d0%b0%d0%b7%d1%83-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%b0-%d0%bd%d0%b0-javascript/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p>Растут <strong>JavaScript</strong> проекты и соответственно становятся лучше инструменты сборки. Самое время задуматься о разворачивании базы своего проекта на <strong>JavaScript</strong>. А ведь и правда: если проект написан 100% на одной технологии (да, и сервер тоже), зачем думать о другой технологии для разворачивания базы?</p>
<p>Вот с такими мыслями я и начал исследовать данный вопрос с целью найти удобное решение для своего пэт-проектика (стек: <strong>JavaScript</strong>/<strong>AngularJs</strong> &#8211; <strong>JavaScript</strong>/<strong>Express</strong> &#8211; <strong>MySql</strong>). JavaScript сообщество (а точнее Андрей Листочкин), посоветовало обратить внимание на модуль для ноды <strong><a title="npmjs.org" href="https://www.npmjs.org/package/db-migrate">db-migrate</a></strong> и плагин для гранта <strong><a title="npmjs.org" href="https://www.npmjs.org/package/grunt-db-migrate">grunt-db-migrate</a></strong>. Пост является набором заметок по ходу внедрения модуля в проект.</p>
<h2><span id="more-1607"></span></h2>
<p>На данный момент db-migrate поддерживает <a title="node-mysql" href="https://github.com/felixge/node-mysql">Mysql</a>,  <a href="https://github.com/brianc/node-postgres">PostgreSQL</a>, <a href="https://github.com/developmentseed/node-sqlite3">sqlite3</a>. Поэтому, если вы хотите мигрировать другую базу &#8211; придется либо писать самому скрипт миграции либо использовать другое решение.</p>
<h2>Установка</h2>
<p>Устанавливаем модуль ноды и плагин гранта:</p>
<pre>$ npm install db-migrate
$ npm install grunt-db-migrate</pre>
<h2>Настраиваем grunt</h2>
<p>В <strong>grunt</strong> файле добавляем блок:</p>
<p>[javascript]migrate:{<br />
    options:{<br />
        env: {<br />
            DATABASE_URL: databaseUrl<br />
        }<br />
    }<br />
}[/javascript]</p>
<p>databaseUrl &#8211; строка подключения к базе, например:</p>
<p>[javascript]<br />
databaseUrl =  &#8216;mysql://root:@localhost/mypetdb&#8217;;<br />
[/javascript]</p>
<h2>Создаем файл миграции</h2>
<p>Чтобы создать файл миграции(с шаблоном внутри) выполняем команду:</p>
<pre>$ grunt migrate:create:migrate_name</pre>
<p>После чего у нас в проекте появится директория &#8220;migrations&#8221;, и файл в ней с таким содержимым:</p>
<p>[javascript]var dbm = require(&#8216;db-migrate&#8217;);<br />
var type = dbm.dataType;</p>
<p>exports.up = function(db, callback) {</p>
<p>};</p>
<p>exports.down = function(db, callback) {</p>
<p>};[/javascript]</p>
<p><strong>exports.up</strong> &#8211; инструкции для наката изменений, <strong>export.down</strong> &#8211; соответственно для отката сделанных изменений.</p>
<p>Разберем пример предложенный на офсайте:</p>
<p>[javascript]<br />
exports.up = function (db, callback) {<br />
  db.createTable(&#8216;pets&#8217;, {<br />
    id: { type: &#8216;int&#8217;, primaryKey: true },<br />
    name: &#8216;string&#8217;<br />
  }, callback);<br />
};</p>
<p>exports.down = function (db, callback) {<br />
  db.dropTable(&#8216;pets&#8217;, callback);<br />
};<br />
[/javascript]</p>
<p>Вроде бы все просто: <strong>db.createTable()</strong> &#8211; добавляем таблицу, <strong>db.dropTable()</strong> &#8211; удаляем.</p>
<p>Свойства, который можно определять для полей:</p>
<ul>
<li>type &#8211; тип данный, полный список поддерживаемых типов <a title="lib/data_type.js" href="https://github.com/kunklejr/node-db-migrate/blob/master/lib/data_type.js">тут</a></li>
<li>length &#8211; размерность (там где поддерживается)</li>
<li>primaryKey [true/false]</li>
<li>autoIncrement [true/false]</li>
<li>notNull [true/false]</li>
<li>unique [true/false]</li>
<li>defaultValue</li>
</ul>
<p>Список поддерживаемых методов:</p>
<ul>
<li>createTable(tableName, columnSpec, callback)</li>
<li>dropTable(tableName, [options,] callback)</li>
<li>renameTable(tableName, newTableName, callback)</li>
<li>addColumn(tableName, columnName, columnSpec, callback)</li>
<li>removeColumn(tableName, columnName, callback)</li>
<li>renameColumn(tableName, oldColumnName, newColumnName, callback)</li>
<li>changeColumn(tableName, columnName, columnSpec, callback)</li>
<li>addIndex(tableName, indexName, columns, [unique], callback)</li>
<li>insert(tableName, columnNameArray, valueArray, callback)</li>
<li>removeIndex([tableName], indexName, callback)</li>
<li>runSql(sql, [params,] callback)</li>
<li>all(sql, [params,] callback)</li>
</ul>
<h2>Запуск</h2>
<p>Теперь grunt может выполнить задачу:</p>
<pre>$ grunt migrate:up</pre>
<p>и чтобы откатить изменения:</p>
<pre>$ grunt migrate:down</pre>
<p>создать новый файл миграции:</p>
<pre>$ grunt migrate:create:migration_name</pre>
<h2>Дополнительно</h2>
<p>Когда нам нужно создать несколько таблиц, удобно использовать модуль <strong>async</strong>:</p>
<p>[javascript]<br />
var async = require(&#8216;async&#8217;);</p>
<p>exports.up = function (db, callback) {<br />
  async.series([<br />
    db.createTable.bind(db, &#8216;pets&#8217;, {<br />
      id: { type: &#8216;int&#8217;, primaryKey: true },<br />
      name: &#8216;string&#8217;<br />
    }),<br />
    db.createTable.bind(db, &#8216;owners&#8217;, {<br />
      id: { type: &#8216;int&#8217;, primaryKey: true },<br />
      name: &#8216;string&#8217;<br />
    });<br />
  ], callback);<br />
};<br />
[/javascript]</p>
<p>метод <strong>async.series</strong> позволит избежать вложенности</p>
<h2>Пример из реальной жизни</h2>
<p>Вот файл миграции, который я создал для своего пет-проектика:</p>
<p>[javascript]<br />
var dbm = require(&#8216;db-migrate&#8217;);<br />
var async = require(&#8216;async&#8217;);</p>
<p>exports.up = function (db, callback) {<br />
  async.series([<br />
    db.createTable.bind(db, &#8216;marks&#8217;, {<br />
      user_id: {<br />
        type: &#8216;int&#8217;,<br />
        notNull: true<br />
      },<br />
      release_id: {<br />
        type: &#8216;int&#8217;,<br />
        notNull: true<br />
      },<br />
      feed: {<br />
        type:&#8217;string&#8217;,<br />
        notNull: true<br />
      }<br />
    })<br />
  ], function(){<br />
      db.addIndex(&#8216;marks&#8217;, &#8216;usermark&#8217;, [&#8216;user_id&#8217;, &#8216;release_id&#8217;], true);<br />
      callback();<br />
  });<br />
};</p>
<p>exports.down = function (db, callback) {<br />
  async.series([<br />
    db.dropTable.bind(db, &#8216;marks&#8217;, {<br />
      ifExists: true<br />
    }),<br />
    db.removeIndex(&#8216;marks&#8217;, &#8216;usermark&#8217;),<br />
  ], callback);<br />
};<br />
[/javascript]</p>
<p>Проект портировался с локальной <strong>mysql</strong> базы на <strong>postgress</strong>, которая стояла на сервере. Особых косяков модуля db-migrate замечено не было. Можно отметить только мелкие неудобства, которых характерны для любых универсальных (кросс-субд) систем миграции &#8211; отсутствие реализации специфических типов: у меня изначально был тип <strong>ENUM</strong>, который пришлось перевести в <strong>STRING</strong>. Для личного проекта это нормальная замена, но для продакшена пришлось бы писать отдельный дополнительный конвертер.</p>
<p>Более подробно можно почитать на <a href="https://www.npmjs.org/package/db-migrate">офсайте</a> либо покопать <a href="https://github.com/kunklejr/node-db-migrate">код</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2014/04/%d1%80%d0%b0%d0%b7%d0%b2%d0%be%d1%80%d0%b0%d1%87%d0%b8%d0%b2%d0%b0%d0%b5%d0%bc-%d0%b1%d0%b0%d0%b7%d1%83-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%b0-%d0%bd%d0%b0-javascript/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Passport.js авторизация для node.js</title>
		<link>https://stepansuvorov.com/blog/2014/03/passport-js/</link>
					<comments>https://stepansuvorov.com/blog/2014/03/passport-js/#respond</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Tue, 25 Mar 2014 21:03:02 +0000</pubDate>
				<category><![CDATA[Рекомендую]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[node.js]]></category>
		<category><![CDATA[psssport.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=1609</guid>

					<description><![CDATA[Внезапно для себя обнаружил опенсорс проект Passport.js — это middleware для авторизации под node.js. Которое позволяет &#8220;из коробки&#8221; авторизироваться в большинстве современных онлайн сервисов (на данным момент больше 140 различных стратегий: такие как Facebook, Twitter, Github).]]></description>
										<content:encoded><![CDATA[<p><img decoding="async" loading="lazy" class="alignnone size-full wp-image-1624" title="passport.js logo" src="https://stepansuvorov.com/blog/wp-content/uploads/2014/03/logo-90px.png" alt="" width="90" height="90" /></p>
<p>Внезапно для себя обнаружил опенсорс проект <a href="http://passportjs.org/">Passport.js</a> — это middleware для авторизации под <strong>node.js</strong>. Которое позволяет &#8220;из коробки&#8221; авторизироваться в большинстве современных онлайн сервисов (на данным момент больше 140 различных стратегий: такие как <strong>Facebook</strong>, <strong>Twitter</strong>, <strong>Github</strong>).</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2014/03/passport-js/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Песочница для mongodb</title>
		<link>https://stepansuvorov.com/blog/2012/11/%d0%bf%d0%b5%d1%81%d0%be%d1%87%d0%bd%d0%b8%d1%86%d0%b0-%d0%b4%d0%bb%d1%8f-mongodb/</link>
					<comments>https://stepansuvorov.com/blog/2012/11/%d0%bf%d0%b5%d1%81%d0%be%d1%87%d0%bd%d0%b8%d1%86%d0%b0-%d0%b4%d0%bb%d1%8f-mongodb/#comments</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Sat, 10 Nov 2012 20:21:22 +0000</pubDate>
				<category><![CDATA[Хочу сделать мир лучше]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[MongoDB]]></category>
		<category><![CDATA[node.js]]></category>
		<category><![CDATA[webStorm]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=728</guid>

					<description><![CDATA[Проходя курсы по mongoDb остро стала необходимость в организации какой-то песочницы для скриптов, так как просто в mongoshell писать стало не удобно, а отдельно писать в редакторе код, а потом его запускать через консоль &#8211; тоже не интересно. Покопавшись в &#8230; <a href="https://stepansuvorov.com/blog/2012/11/%d0%bf%d0%b5%d1%81%d0%be%d1%87%d0%bd%d0%b8%d1%86%d0%b0-%d0%b4%d0%bb%d1%8f-mongodb/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p>Проходя <a href="https://education.10gen.com">курсы по mongoDb</a> остро стала необходимость в организации какой-то <strong>песочницы</strong> для скриптов, так как просто в <strong>mongoshell</strong> писать стало не удобно, а отдельно писать в редакторе код, а потом его запускать через консоль &#8211; тоже не интересно.</p>
<p><span id="more-728"></span>Покопавшись в плагинах <strong>WebStorm</strong> (который является моим текущим IDE), я обнаружил, что для <strong>mongoDb</strong> расширения, увы, еще нет. Ну что же, играем дальше. Есть плагин на <strong>node.js</strong>, который довольно просто настраивается. После чего можем в настройках запуска проекта</p>
<p><img decoding="async" loading="lazy" class="alignnone size-medium wp-image-729" title="webstorm_run" src="https://stepansuvorov.com/blog/wp-content/uploads/2012/11/webstorm_run-300x186.jpg" alt="" width="300" height="186" srcset="https://stepansuvorov.com/blog/wp-content/uploads/2012/11/webstorm_run-300x186.jpg 300w, https://stepansuvorov.com/blog/wp-content/uploads/2012/11/webstorm_run.jpg 323w" sizes="(max-width: 300px) 100vw, 300px" /></p>
<p>добавить вариант запуска текущего скрипта нодой.</p>
<p>Надеюсь, вы не забыли поставить <a href="https://stepansuvorov.com/blog/2012/10/node-js-%D0%B8-mongodb/">монго драйвер на ноду</a>.</p>
<p>Итак, у нас есть удобный редактор, подключенная нода и консольный вывод в самом редакторе. Осталось только накидать код:</p>
<pre>var mongo = require('mongodb');
var host = 'localhost';
var port = mongo.Connection.DEFAULT_PORT;

var db = new mongo.Db('test', new mongo.Server(host, port, {}), {safe:false});
db.open(function(err, db) {
    console.log("Connected!");

    // а вот тут и пишем наш код, который хотим отладить

    db.close();
});</pre>
<p>Happy codding!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2012/11/%d0%bf%d0%b5%d1%81%d0%be%d1%87%d0%bd%d0%b8%d1%86%d0%b0-%d0%b4%d0%bb%d1%8f-mongodb/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Сборка javascript проектов с помощью Grunt</title>
		<link>https://stepansuvorov.com/blog/2012/10/%d1%81%d0%b1%d0%be%d1%80%d0%ba%d0%b0-javascript-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%be%d0%b2-%d1%81-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e-grunt/</link>
					<comments>https://stepansuvorov.com/blog/2012/10/%d1%81%d0%b1%d0%be%d1%80%d0%ba%d0%b0-javascript-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%be%d0%b2-%d1%81-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e-grunt/#comments</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Tue, 30 Oct 2012 13:53:03 +0000</pubDate>
				<category><![CDATA[Хочу сделать мир лучше]]></category>
		<category><![CDATA[grunt]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[node.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=711</guid>

					<description><![CDATA[Grunt &#8211; инструмент для сборки JavaScript проектов из командной строки. Молодой (зарелизился в январе 2012) и активно развивающийся(на данный момент для него написано уже 188 плагинов). Благодаря тому, что grunt имеет готовый npm-пакет для node.js,  установка очень простая: $ npm &#8230; <a href="https://stepansuvorov.com/blog/2012/10/%d1%81%d0%b1%d0%be%d1%80%d0%ba%d0%b0-javascript-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%be%d0%b2-%d1%81-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e-grunt/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p><img decoding="async" loading="lazy" class="alignnone size-medium wp-image-712" title="grunt_logo" src="https://stepansuvorov.com/blog/wp-content/uploads/2012/10/grunt_logo-300x300.png" alt="" width="300" height="300" srcset="https://stepansuvorov.com/blog/wp-content/uploads/2012/10/grunt_logo-300x300.png 300w, https://stepansuvorov.com/blog/wp-content/uploads/2012/10/grunt_logo-150x150.png 150w, https://stepansuvorov.com/blog/wp-content/uploads/2012/10/grunt_logo.png 512w" sizes="(max-width: 300px) 100vw, 300px" /></p>
<p><a href="http://gruntjs.com/">Grunt</a> &#8211; инструмент для сборки JavaScript проектов из командной строки. Молодой (зарелизился в январе 2012) и активно развивающийся(на данный момент для него написано уже 188 плагинов).</p>
<p><span id="more-711"></span>Благодаря тому, что <strong>grunt</strong> имеет готовый npm-пакет для node.js,  установка очень простая:</p>
<pre>$ npm install grunt -g</pre>
<p>Ставим <strong>grunt</strong> глобально, после чего нам доступна команда из консоли:</p>
<pre>$ grunt --version
grunt v0.3.17</pre>
<p>Далее необходимо <strong>инициализировать проект</strong>, для этого у нас есть команда grunt init:TEMPLATE, где TEMPLATE &#8211; один из шаблонов:</p>
<ul>
<li>commonjs</li>
<li>jquery</li>
<li>node</li>
<li>gruntfile &#8211; только главный файл</li>
<li>gruntplugin</li>
</ul>
<p>Перейдем в директорию где мы хотим создать grunt проект и выполним:</p>
<pre>$ grunt init:jquery</pre>
<p>после чего должно выдать серию вопросов о проекте(title, description, git-url&#8230;). После успешного прохождения этого квеста в выбранной директории появятся файлы сборщика.</p>
<p>Установим также <a title="статья по phantomjs" href="https://stepansuvorov.com/blog/2012/09/%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%B5%D0%BC-%D1%8E%D0%BD%D0%B8%D1%82-%D1%82%D0%B5%D1%81%D1%82%D1%8B-%D1%81-phantomjs/">PhantomJs</a>, наличие которого предполагает grunt.</p>
<p>После чего можем смело запускать сборщик на выполнение:</p>
<pre>$ grunt
Running "lint:files" (lint) task
Lint free.

Running "qunit:files" (qunit) task
Testing testproject.html....OK
&gt;&gt; 4 assertions passed (23ms)

Running "concat:dist" (concat) task
File "dist/testproject.js" created.

Running "min:dist" (min) task
File "dist/testproject.min.js" created.
Uncompressed size: 467 bytes.
Compressed size: 229 bytes gzipped (324 bytes minified).

Done, without errors.</pre>
<p>&#8211; вот так вот он работает: проверил код(JSHint), запустил тесты(QUnit), соединил и сжал  файлы.</p>
<p>Чтобы рассмотреть инструкции по конфигурированию сборщика, проинициализируем новый проект:</p>
<pre>$ grunt init:gruntfile</pre>
<p>Он создаст только заготовку для главного файла(grunt.js). Откроем ее и посмотрим что внутри.</p>
<p>Начнем разбор с конца файла:</p>
<pre>grunt.registerTask('default', 'lint qunit concat min');</pre>
<p>Эта строчка говорит grunt какие задачи будут выполнены по умолчанию(т.е. запустив команду без параметров). Тут мы можем добавить свои варианты:</p>
<pre>grunt.registerTask('prod', 'lint qunit concat min');
grunt.registerTask('test', 'lint qunit');</pre>
<p>Возможные варианты заданий:</p>
<ul>
<li>concat &#8211; конкатенация файлов</li>
<li>init &#8211; Generate project scaffolding from a predefined template.</li>
<li>lint &#8211; валидация файлов с помощью  <a href="http://www.jshint.com/">JSHint</a>.</li>
<li>min &#8211; сжатие файлов с <a href="https://github.com/mishoo/UglifyJS/">UglifyJS</a>.</li>
<li>qunit &#8211; Запуск <a href="http://docs.jquery.com/QUnit">QUnit</a> юнит тестов на <a href="http://www.phantomjs.org/">PhantomJS</a>.</li>
<li>server &#8211; запускает статический веб сервер.</li>
<li>test &#8211; запуск юнит тестов на <a href="https://github.com/caolan/nodeunit">nodeunit</a>.</li>
<li>watch &#8211; запуск заранее определенных заданий, для файлов из списка.</li>
</ul>
<p>Ну а теперь последовательно по секциям конфига(по сути конфигурация для каждого задания):</p>
<pre>meta - описание проекта, вспомогательная информация
lint/qunit/test/concat/min - список фалов, 
которые нужно отвалидировать(JSHint)/протестировать(qUnit)/протестировать(nodeUnit)/объединить/сжать(UglifyJS)
watch - список файлов и команды, которые необходимо выполнить, в случае изменения содержания файла
jshint - конфигурация JSHint
uglify - специфические настройки UglifyJS
server - пока не понятно зачем</pre>
<p>Для каждой опции, где мы указываем список файлов существуют 2 подсекции: files и src. По умолчанию задание выполняется с командой files, но если мы хоти выполнить со списком файлов src, тогда стоит уточнить:</p>
<div>
<pre>grunt.registerTask(<code>'build_src'</code><code>, </code><code>'lint:src qunit:src concat:src min:src'</code><code>);</code></pre>
</div>
<p>Если встроенных заданий не хватает, можно писать свои и мотом подключать их с помощью методов:</p>
<pre>grunt.loadTasks(ПУТЬ_К_ДИРЕКТОРИИ_С_ЗАДАНИЕМ);
<code>grunt.loadNpmTasks(ИМЯ_ПЛАГИНА);</code></pre>
<p>&#8211; второй вариант для дополнительных задач установленных через <strong>npm</strong>. Вот хорошая <a href="https://github.com/gruntjs/grunt-contrib">страничка</a>, на которой перечислены самые распространенные варианты. Попробуем поставить <strong>requirejs</strong>:</p>
<pre>npm install grunt-contrib-requirejs</pre>
<p>и подключим в файл конфигурации:</p>
<pre>grunt.loadNpmTasks("requirejs");</pre>
<p>Внимание! тут есть специфика: модули установленные через npm будут подхватываться только если установлены в директорию c grunt. Подробно проблема описана вот <a href="https://github.com/gruntjs/grunt/issues/232">тут</a>.</p>
<p>Из основного это все.</p>
<h2></h2>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2012/10/%d1%81%d0%b1%d0%be%d1%80%d0%ba%d0%b0-javascript-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%be%d0%b2-%d1%81-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e-grunt/feed/</wfw:commentRss>
			<slash:comments>3</slash:comments>
		
		
			</item>
		<item>
		<title>Node.js и MongoDB</title>
		<link>https://stepansuvorov.com/blog/2012/10/node-js-%d0%b8-mongodb/</link>
					<comments>https://stepansuvorov.com/blog/2012/10/node-js-%d0%b8-mongodb/#comments</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Tue, 16 Oct 2012 06:41:24 +0000</pubDate>
				<category><![CDATA[Хочу сделать мир лучше]]></category>
		<category><![CDATA[MongoDB]]></category>
		<category><![CDATA[node.js]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=677</guid>

					<description><![CDATA[Попробуем подружить MongoDB и Node.js. Договоримся что нода у нас уже стоит, если нет идем по тегу Node.js, и разбираемся, а потом возвращаемся сюда доставлять mongoDB. Чтобы поставить MongoDB на Ubuntu(12.04) выполняем следующую команду: $ apt-get install mongodb Чтобы проверить &#8230; <a href="https://stepansuvorov.com/blog/2012/10/node-js-%d0%b8-mongodb/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p><img decoding="async" loading="lazy" class="alignnone size-full wp-image-678" title="logo-mongodb" src="https://stepansuvorov.com/blog/wp-content/uploads/2012/10/logo-mongodb.png" alt="" width="217" height="90" /></p>
<p>Попробуем подружить MongoDB и Node.js.</p>
<p><span id="more-677"></span>Договоримся что нода у нас уже стоит, если нет идем по тегу <a href="https://stepansuvorov.com/blog/tag/node-js/">Node.js</a>, и разбираемся, а потом возвращаемся сюда доставлять mongoDB.</p>
<p>Чтобы поставить MongoDB на Ubuntu(12.04) выполняем следующую команду:</p>
<pre>$ apt-get install mongodb</pre>
<p>Чтобы проверить правильно ли поставилось запускаем:</p>
<pre>$ /usr/bin/mongo</pre>
<p>Должно зайти в программу и выдать что-то типа:</p>
<pre>MongoDB shell version: 2.0.4
connecting to: test</pre>
<p>Далее устанавливаем дополнительный пакет на ноду:</p>
<pre>$ npm install mongodb</pre>
<p>если мы будем использовать во всех проектах монго, то имеет смысл поставить флажок <em>-g</em> &#8220;для всех&#8221;:</p>
<pre>$ npm install mongodb -g</pre>
<p>!Внимание. Предварительно может потребовать установить пакет <em>node-gyp</em>.</p>
<pre>$ npm install node-gyp -g</pre>
<p>Есть. Проверим через простой скрипт <em>test.js</em> установился ли модуль, содержание:</p>
<pre>var mongo = require('mongodb');</pre>
<p>Выполняем:</p>
<pre>$ node test.js</pre>
<p>Если ошибок не выдало, можно еще немного расширить наш скрипт:</p>
<pre>var mongo = require('mongodb');
var host = 'localhost';
var port = mongo.Connection.DEFAULT_PORT;

var db = new mongo.Db('test', new mongo.Server(host, port, {}), {safe:false});
db.open(function(err, db) {
    console.log("Connected!");
    db.close();
});</pre>
<p>&#8211; создали объект базы, подключились к базе, закрыли соединение.</p>
<p>Немного расширим наш скрипт, добавим запись и чтение информации из базы:</p>
<pre>...
var db = new mongo.Db('test', new mongo.Server(host, port,{}), {safe:false});
db.open(function(err, db) {
    console.log("Connected!");

    var collection = db.collection("simple_collection");
    collection.insert({hello:'world'});

    collection.findOne({hello:'world'}, function(err, item) {
        console.log(item);
        db.close();
    })

});</pre>
<p>Чтобы добавить несколько записей можно сделать так:</p>
<pre>collection.insert([{hello:'world'}, {hello:'world2'}, {hello:'world3'}]);</pre>
<p>Думаю будет еще один пост непосредственно о использовании MongoDB, а в этом пока все.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2012/10/node-js-%d0%b8-mongodb/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Делаем HTTPS на Node.js используя express</title>
		<link>https://stepansuvorov.com/blog/2012/09/%d0%b4%d0%b5%d0%bb%d0%b0%d0%b5%d0%bc-https-%d0%bd%d0%b0-node-js-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d1%83%d1%8f-express/</link>
					<comments>https://stepansuvorov.com/blog/2012/09/%d0%b4%d0%b5%d0%bb%d0%b0%d0%b5%d0%bc-https-%d0%bd%d0%b0-node-js-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d1%83%d1%8f-express/#comments</comments>
		
		<dc:creator><![CDATA[Stepan]]></dc:creator>
		<pubDate>Thu, 27 Sep 2012 18:27:38 +0000</pubDate>
				<category><![CDATA[Хочу сделать мир лучше]]></category>
		<category><![CDATA[express]]></category>
		<category><![CDATA[https]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[node.js]]></category>
		<category><![CDATA[ssl]]></category>
		<guid isPermaLink="false">http://stepansuvorov.com/blog/?p=650</guid>

					<description><![CDATA[Такая вот быстрая заметка по организации HTTPS(SSL) соединения на ноде через фреймворк, чего не нашел в официальной документации express. Модули которые необходимо подключить: var express = require('express'); // сам фреймворк var https = require( "https" ); // для организации https &#8230; <a href="https://stepansuvorov.com/blog/2012/09/%d0%b4%d0%b5%d0%bb%d0%b0%d0%b5%d0%bc-https-%d0%bd%d0%b0-node-js-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d1%83%d1%8f-express/">Continue reading <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p>Такая вот быстрая заметка по организации <strong>HTTPS</strong>(<strong>SSL</strong>) соединения на ноде через фреймворк, чего не нашел в официальной документации <strong>express</strong>.</p>
<p><span id="more-650"></span>Модули которые необходимо подключить:</p>
<pre>var express = require('express');  // сам фреймворк
var https = require( "https" );  // для организации https
var fs = require( "fs" );   // для чтения ключевых файлов</pre>
<p>Задать опции ключевой информации:</p>
<pre>httpsOptions = {
    key: fs.readFileSync("server.key"), // путь к ключу
    cert: fs.readFileSync("server.crt") // путь к сертификату
}</pre>
<p>Открыть порт</p>
<pre>https.createServer(httpsOptions, app).listen(443);</pre>
<p>*app &#8211; это объект полученый от express().</p>
]]></content:encoded>
					
					<wfw:commentRss>https://stepansuvorov.com/blog/2012/09/%d0%b4%d0%b5%d0%bb%d0%b0%d0%b5%d0%bc-https-%d0%bd%d0%b0-node-js-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d1%83%d1%8f-express/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
	</channel>
</rss>
